if (self.CavalryLogger) { CavalryLogger.start_js(["3fiw9"]); }

__d("DynamicAdsCardLevelXOutUserAction",[],(function a(b,c,d,e,f,g){f.exports={CLOSE_DIALOG:"CLOSE_DIALOG",HIDE_ITEM:"HIDE_ITEM",OPEN_DIALOG:"OPEN_DIALOG",SELECT_X_OUT_IMAGE:"SELECT_X_OUT_IMAGE",SELECT_X_OUT_REASON:"SELECT_X_OUT_REASON"};}),null);
__d('DynamicAdsCardLevelXOutImageBox.react',['AdsImageLegacy','AdsMediaPanelImageBox.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$DynamicAdsCardLevelXOutImageBox1=function(){this.props.onImageClick(this.props.image);}.bind(this),l;}j.prototype.render=function(){return c('React').createElement(c('AdsMediaPanelImageBox.react'),babelHelpers['extends']({},this.props,{onDecorationIconClick:this.$DynamicAdsCardLevelXOutImageBox1,onImageClick:this.$DynamicAdsCardLevelXOutImageBox1}));};f.exports=j;}),null);
__d('DynamicAdsCardLevelXOutTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:DynamicAdsCardLevelXOutLoggerConfig',this.$DynamicAdsCardLevelXOutTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:DynamicAdsCardLevelXOutLoggerConfig',this.$DynamicAdsCardLevelXOutTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$DynamicAdsCardLevelXOutTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$DynamicAdsCardLevelXOutTypedLogger1=babelHelpers['extends']({},this.$DynamicAdsCardLevelXOutTypedLogger1,j);return this;};h.prototype.setAdID=function(j){this.$DynamicAdsCardLevelXOutTypedLogger1.ad_id=j;return this;};h.prototype.setImpSignature=function(j){this.$DynamicAdsCardLevelXOutTypedLogger1.imp_signature=j;return this;};h.prototype.setImpTimestamp=function(j){this.$DynamicAdsCardLevelXOutTypedLogger1.imp_timestamp=j;return this;};h.prototype.setVC=function(j){this.$DynamicAdsCardLevelXOutTypedLogger1.vc=j;return this;};h.prototype.setXoutItemIndexes=function(j){this.$DynamicAdsCardLevelXOutTypedLogger1.xout_item_indexes=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setXoutItems=function(j){this.$DynamicAdsCardLevelXOutTypedLogger1.xout_items=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setXoutReasons=function(j){this.$DynamicAdsCardLevelXOutTypedLogger1.xout_reasons=c('GeneratedLoggerUtils').serializeVector(j);return this;};var i={ad_id:true,imp_signature:true,imp_timestamp:true,vc:true,xout_item_indexes:true,xout_items:true,xout_reasons:true};f.exports=h;}),null);
__d('DynamicAdsCardLevelXOutUserActionsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:DynamicAdsCardLevelXOutUserActionsLoggerConfig',this.$DynamicAdsCardLevelXOutUserActionsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:DynamicAdsCardLevelXOutUserActionsLoggerConfig',this.$DynamicAdsCardLevelXOutUserActionsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$DynamicAdsCardLevelXOutUserActionsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$DynamicAdsCardLevelXOutUserActionsTypedLogger1=babelHelpers['extends']({},this.$DynamicAdsCardLevelXOutUserActionsTypedLogger1,j);return this;};h.prototype.setAdID=function(j){this.$DynamicAdsCardLevelXOutUserActionsTypedLogger1.ad_id=j;return this;};h.prototype.setImpSignature=function(j){this.$DynamicAdsCardLevelXOutUserActionsTypedLogger1.imp_signature=j;return this;};h.prototype.setImpTimestamp=function(j){this.$DynamicAdsCardLevelXOutUserActionsTypedLogger1.imp_timestamp=j;return this;};h.prototype.setSessionID=function(j){this.$DynamicAdsCardLevelXOutUserActionsTypedLogger1.session_id=j;return this;};h.prototype.setUserAction=function(j){this.$DynamicAdsCardLevelXOutUserActionsTypedLogger1.user_action=j;return this;};h.prototype.setUserActionTimestamp=function(j){this.$DynamicAdsCardLevelXOutUserActionsTypedLogger1.user_action_timestamp=j;return this;};h.prototype.setVC=function(j){this.$DynamicAdsCardLevelXOutUserActionsTypedLogger1.vc=j;return this;};var i={ad_id:true,imp_signature:true,imp_timestamp:true,session_id:true,user_action:true,user_action_timestamp:true,vc:true};f.exports=h;}),null);
__d('DynamicAdsXOutReason',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({ALREADY_OWN_THIS:null,NOT_INTERESTED:null,POOR_PHOTO_QUALITY:null});f.exports=h;}),null);
__d('DynamicAdsCardLevelXOutDialog.react',['cx','fbt','invariant','AdsArrowedCarousel.react','AdsImageLegacy','Arbiter','AsyncRequest','BUIAdoptionXUIText.react','DynamicAdsCardLevelXOutImageBox.react','DynamicAdsCardLevelXOutTypedLogger','DynamicAdsCardLevelXOutUserAction','DynamicAdsCardLevelXOutUserActionsTypedLogger','DynamicAdsCardLevelXOutUtils','DynamicAdsXOutActions','DynamicAdsXOutReason','React','XDynamicAdsCardLevelXOutController','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIRadioList.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('XUIRadioList.react').Item,n=c('DynamicAdsXOutReason').ALREADY_OWN_THIS;function o(s){var t=s.dynamicItemsXOutData.map(function(u){var v=u.dynamic_item_id,w=u.dynamic_item_image_url,x=new (c('AdsImageLegacy'))({key:v,renderedHeight:96,renderedWidth:96,url:w});return c('React').createElement(c('DynamicAdsCardLevelXOutImageBox.react'),{className:"_jbu",decoration:s.selectedDynamicItemId===v?'selected':'default',disableDimensionInfo:true,image:x,key:v,onImageClick:s.onImageClick});});return c('React').createElement(c('AdsArrowedCarousel.react'),{isArrowCentered:true},t);}function p(){return c('React').createElement(c('BUIAdoptionXUIText.react'),{className:"_43gf",display:'block',shade:'medium'},i._("Choose the item you want to hide:"));}function q(s){if(s.selectedDynamicItemId===null)return null;return c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIText.react'),{className:"_118-",display:'block',size:'medium'},c('React').createElement('div',{className:"_118_"},i._("Why don't you want to see this?")),i._("Help make ads like this better.")),c('React').createElement(c('XUIRadioList.react'),{className:"_1190",selectedValue:s.xOutReason,onValueChange:s.xOutReasonSelect},c('React').createElement(m,{value:c('DynamicAdsXOutReason').ALREADY_OWN_THIS},i._("I already own this.")),c('React').createElement(m,{value:c('DynamicAdsXOutReason').NOT_INTERESTED},i._("I'm not interested in this.")),c('React').createElement(m,{value:c('DynamicAdsXOutReason').POOR_PHOTO_QUALITY},i._("The photo quality is poor."))));}k=babelHelpers.inherits(r,c('React').PureComponent);l=k&&k.prototype;function r(s){l.constructor.call(this,s);this.$DynamicAdsCardLevelXOutDialog3=function(t){var u=t.getUniqueIdentifier(),v=this.state.selectedDynamicItemId===u?null:u;this.setState({selectedDynamicItemId:v});if(v===null){this.setState({xOutReason:n});}else this.$DynamicAdsCardLevelXOutDialog1(c('DynamicAdsCardLevelXOutUserAction').SELECT_X_OUT_IMAGE);}.bind(this);this.$DynamicAdsCardLevelXOutDialog4=function(t){this.$DynamicAdsCardLevelXOutDialog1(c('DynamicAdsCardLevelXOutUserAction').SELECT_X_OUT_REASON);this.setState({xOutReason:t});}.bind(this);this.$DynamicAdsCardLevelXOutDialog5=function(){var t=this.props.dynamicItemsXOutData.find(function(ba){return ba.dynamic_item_id===this.state.selectedDynamicItemId;}.bind(this));t||j(0);this.$DynamicAdsCardLevelXOutDialog1(c('DynamicAdsCardLevelXOutUserAction').HIDE_ITEM);var u=this.props.adImpressionData,v=u.ad_id,w=u.imp_signature,x=u.imp_timestamp,y=t.dynamic_item_id;new (c('DynamicAdsCardLevelXOutTypedLogger'))().setAdID(v).setImpSignature(w).setImpTimestamp(x).setXoutItemIndexes([t.dynamic_item_orginal_index]).setXoutItems([y]).setXoutReasons([this.state.xOutReason]).log();var z=c('XDynamicAdsCardLevelXOutController').getURIBuilder().setInt('ad_id',v).setInt('imp_signature',w).setInt('imp_timestamp',x).setFBID('xout_item_id',y).setInt('xout_item_index',t.dynamic_item_orginal_index).setString('xout_reason',this.state.xOutReason).getURI();new (c('AsyncRequest'))().setURI(z).setMethod('POST').send();c('Arbiter').inform('product-level-xout',{xOutCardIndex:v+'_'+t.dynamic_item_orginal_index});var aa=c('DynamicAdsCardLevelXOutUtils').getDynamicCardLevelXOutSessionId(this.props.adImpressionData);c('DynamicAdsXOutActions').removeItemFromAd(aa,y);this.setState({showDialog:false});}.bind(this);this.$DynamicAdsCardLevelXOutDialog2=function(t){if(!t)this.$DynamicAdsCardLevelXOutDialog1(c('DynamicAdsCardLevelXOutUserAction').CLOSE_DIALOG);}.bind(this);this.$DynamicAdsCardLevelXOutDialog1(c('DynamicAdsCardLevelXOutUserAction').OPEN_DIALOG);this.state={showDialog:true,selectedDynamicItemId:null,xOutReason:n};}r.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{shown:this.state.showDialog,width:573,onToggle:this.$DynamicAdsCardLevelXOutDialog2},c('React').createElement(c('XUIDialogTitle.react'),null,i._("Hide Item From Ad")),c('React').createElement(c('XUIDialogBody.react'),{className:"_jbv"},c('React').createElement(p,null),c('React').createElement(o,{dynamicItemsXOutData:this.props.dynamicItemsXOutData,selectedDynamicItemId:this.state.selectedDynamicItemId,onImageClick:this.$DynamicAdsCardLevelXOutDialog3}),c('React').createElement(q,{selectedDynamicItemId:this.state.selectedDynamicItemId,xOutReason:this.state.xOutReason,xOutReasonSelect:this.$DynamicAdsCardLevelXOutDialog4})),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIButton.react'),{disabled:this.state.selectedDynamicItemId===null,label:i._("Hide"),use:'confirm',onClick:this.$DynamicAdsCardLevelXOutDialog5})));};r.prototype.$DynamicAdsCardLevelXOutDialog1=function(s){var t=c('DynamicAdsCardLevelXOutUtils').getDynamicCardLevelXOutSessionId(this.props.adImpressionData);new (c('DynamicAdsCardLevelXOutUserActionsTypedLogger'))().setAdID(this.props.adImpressionData.ad_id).setImpSignature(this.props.adImpressionData.imp_signature).setImpTimestamp(this.props.adImpressionData.imp_timestamp).setSessionID(t).setUserAction(s).setUserActionTimestamp(Date.now()).log();};f.exports=r;}),null);
__d('DynamicAdsCardLevelXOutController',['cx','Arbiter','CSS','DOM','DOMQuery','DynamicAdsCardLevelXOutDialogContainer.react','DynamicAdsCardLevelXOutDispatcher','DynamicAdsCardLevelXOutStore','React','ReactDOM'],(function a(b,c,d,e,f,g,h){'use strict';var i={renderDialog:function j(k,l){c('DynamicAdsCardLevelXOutDispatcher').explicitlyRegisterStores([c('DynamicAdsCardLevelXOutStore')]);var m=l.map(function(o,p){return babelHelpers['extends']({},o,{dynamic_item_orginal_index:p});}),n=c('DOM').create('div');c('DOMQuery').getRootElement().appendChild(n);c('ReactDOM').render(c('React').createElement(c('DynamicAdsCardLevelXOutDialogContainer.react'),{adImpressionData:k,dynamicItemsXOutData:m}),n);},initListener:function j(k,l,m){c('Arbiter').subscribe('product-level-xout',function(n,o){var p=k+'_'+l;if(o.xOutCardIndex===p){c('CSS').addClass(m,"_k17");setTimeout(function(){c('DOM').remove(m);},2000);}});}};f.exports=i;}),null);