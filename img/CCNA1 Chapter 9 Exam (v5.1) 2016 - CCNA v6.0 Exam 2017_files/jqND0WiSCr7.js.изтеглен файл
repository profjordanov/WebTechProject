if (self.CavalryLogger) { CavalryLogger.start_js(["3G2HY"]); }

__d("AdsPlannerActionTypes",[],(function a(b,c,d,e,f,g){f.exports={ADD_NEW_PLAN:"AdsPlanner.ADD_NEW_PLAN",ADD_NEW_VERSION:"AdsPlanner.ADD_NEW_VERSION",ADD_PENDING_SYNC_FOR_PLANS:"AdsPlanner.ADD_PENDING_SYNC_FOR_PLANS",ADD_PLANNER_LOCAL_INSTAGRAM_PLACEMENT:"AdsPlanner.ADD_PLANNER_LOCAL_INSTAGRAM_PLACEMENT",CANCEL_TARGETING_EDITING:"AdsPlanner.CANCEL_TARGETING_EDITING",CHANGE_AUTHOR_NAME:"AdsPlanner.CHANGE_AUTHOR_NAME",CHANGE_BUDGET_VALUE:"AdsPlanner.CHANGE_BUDGET_VALUE",CHANGE_BUDGET_VALUE_AND_INTERPOLATE:"AdsPlanner.CHANGE_BUDGET_VALUE_AND_INTERPOLATE",CHANGE_BUSINESS_ID:"AdsPlanner.CHANGE_BUSINESS_ID",CHANGE_CURRENT_PLAN_ID:"AdsPlanner.CHANGE_CURRENT_PLAN_ID",CHANGE_DATA_IN_OTHER_OPTION_EDITOR:"AdsPlanner.CHANGE_DATA_IN_OTHER_OPTION_EDITOR",CHANGE_DATE:"AdsPlanner.CHANGE_DATE",CHANGE_DATE_START:"AdsPlanner.CHANGE_DATE_START",CHANGE_DATE_STOP:"AdsPlanner.CHANGE_DATE_STOP",CHANGE_EMAIL_INFO:"AdsPlanner.CHANGE_EMAIL_INFO",CHANGE_FLEXIBLE_CAMPAIGN_LENGTH_PREDICTION_ID:"AdsPlanner.CHANGE_FLEXIBLE_CAMPAIGN_LENGTH_PREDICTION_ID",CHANGE_FLEXIBLE_SCHEDULE_PREDICTION_ID:"AdsPlanner.CHANGE_FLEXIBLE_SCHEDULE_PREDICTION_ID",CHANGE_INLINE_DATE_PICKER_HOVERED:"AdsPlanner.CHANGE_INLINE_DATE_PICKER_HOVERED",CHANGE_IS_ACCOUNT_SELECTOR_NUX_SHOWN:"AdsPlanner.CHANGE_IS_ACCOUNT_SELECTOR_NUX_SHOWN",CHANGE_IS_ACCOUNT_SELECTOR_NUX_HIDDEN:"AdsPlanner.CHANGE_IS_ACCOUNT_SELECTOR_NUX_HIDDEN",CHANGE_IS_ACCOUNT_SWITCH_CONFIRM_DIALOG_SHOWN:"AdsPlanner.CHANGE_IS_ACCOUNT_SWITCH_CONFIRM_DIALOG_SHOWN",CHANGE_IS_DELETE_PLAN_DIALOG_SHOWN:"AdsPlanner.CHANGE_IS_DELETE_PLAN_DIALOG_SHOWN",CHANGE_IS_EDITING_AUDIENCE:"AdsPlanner.CHANGE_IS_EDITING_AUDIENCE",CHANGE_IS_INSTAGRAM_SELECTOR_NUX_HIDDEN:"AdsPlanner.CHANGE_IS_INSTAGRAM_SELECTOR_NUX_HIDDEN",CHANGE_IS_LOGOUT_VIEW:"AdsPlanner.CHANGE_IS_LOGOUT_VIEW",CHANGE_IS_NEW_PLAN_PENDING:"AdsPlanner.CHANGE_IS_NEW_PLAN_PENDING",CHANGE_IS_NUX_SHOWN:"AdsPlanner.CHANGE_IS_NUX_SHOWN",CHANGE_IS_PAGE_SELECTOR_NUX_HIDDEN:"AdsPlanner.CHANGE_IS_PAGE_SELECTOR_NUX_HIDDEN",CHANGE_IS_FLEXIBLE_SCHEDULE_SUGGESTION_SHOWN:"AdsPlanner.CHANGE_IS_FLEXIBLE_SCHEDULE_SUGGESTION_SHOWN",CHANGE_LOGIN_URL:"AdsPlanner.CHANGE_LOGIN_URL",CHANGE_NOTICE_TYPE:"AdsPlanner.CHANGE_NOTICE_TYPE",CHANGE_PLAN_CHECKBOX:"AdsPlanner.CHANGE_PLAN_CHECKBOX",CHANGE_PLANNER_LOCAL_AD_FORMAT:"AdsPlanner.CHANGE_PLANNER_LOCAL_AD_FORMAT",CHANGE_PLANNER_LOCAL_ACCOUNT_ID:"AdsPlanner.CHANGE_PLANNER_LOCAL_ACCOUNT_ID",CHANGE_PLANNER_LOCAL_DESTINATION_ID:"AdsPlanner.CHANGE_PLANNER_LOCAL_DESTINATION_ID",CHANGE_PLANNER_LOCAL_END_DATE:"AdsPlanner.CHANGE_PLANNER_LOCAL_END_DATE",CHANGE_PLANNER_LOCAL_EVENT:"AdsPlanner.CHANGE_PLANNER_LOCAL_EVENT",CHANGE_PLANNER_LOCAL_IS_FLEXIBLE_CAMPAIGN_LENGTH:"AdsPlanner.CHANGE_PLANNER_LOCAL_IS_FLEXIBLE_CAMPAIGN_LENGTH",CHANGE_PLANNER_LOCAL_IS_FLEXIBLE_SCHEDULE:"AdsPlanner.CHANGE_PLANNER_LOCAL_IS_FLEXIBLE_SCHEDULE",CHANGE_PLANNER_LOCAL_INSTAGRAM_DESTINATION_ID:"AdsPlanner.CHANGE_PLANNER_LOCAL_INSTAGRAM_DESTINATION_ID",CHANGE_PLANNER_LOCAL_LINK:"AdsPlanner.CHANGE_PLANNER_LOCAL_LINK",CHANGE_PLANNER_LOCAL_HOLDOUT_PERCENTAGE:"AdsPlanner.CHANGE_PLANNER_LOCAL_HOLDOUT_PERCENTAGE",CHANGE_PLANNER_LOCAL_NEW_ACCOUNT_ID:"AdsPlanner.CHANGE_PLANNER_LOCAL_NEW_ACCOUNT_ID",CHANGE_PLANNER_LOCAL_OBJECTIVE:"AdsPlanner.CHANGE_PLANNER_LOCAL_OBJECTIVE",CHANGE_PLANNER_LOCAL_PLACEMENT:"AdsPlanner.CHANGE_PLANNER_LOCAL_PLACEMENT",CHANGE_PLANNER_LOCAL_SAVED_AUDIENCE:"AdsPlanner.CHANGE_PLANNER_LOCAL_SAVED_AUDIENCE",CHANGE_PLANNER_LOCAL_SAVED_AUDIENCE_ID:"AdsPlanner.CHANGE_PLANNER_LOCAL_SAVED_AUDIENCE_ID",CHANGE_PLANNER_LOCAL_SCHEDULE:"AdsPlanner.CHANGE_PLANNER_LOCAL_SCHEDULE",CHANGE_PLANNER_LOCAL_START_DATE:"AdsPlanner.CHANGE_PLANNER_LOCAL_START_DATE",CHANGE_PLANNER_LOCAL_STORY_EVENT_TYPE:"AdsPlanner.CHANGE_PLANNER_LOCAL_STORY_EVENT_TYPE",CHANGE_PLANNER_LOCAL_TARGETING:"AdsPlanner.CHANGE_PLANNER_LOCAL_TARGETING",CHANGE_REACH_VALUE_AND_INTERPOLATE:"AdsPlanner.CHANGE_REACH_VALUE_AND_INTERPOLATE",CHANGE_SELECTED_SEARCH_ENTRIES:"AdsPlanner.CHANGE_SELECTED_SEARCH_ENTRIES",CHANGE_SHARED_DATA:"AdsPlanner.CHANGE_SHARED_DATA",CHANGE_TARGETING_ERROR_MESSAGE:"AdsPlanner.CHANGE_TARGETING_ERROR_MESSAGE",CHANGE_TARGETING_IN_PLANNER:"AdsPlanner.CHANGE_TARGETING_IN_PLANNER",CHANGE_USER_EMAIL:"AdsPlanner.CHANGE_USER_EMAIL",CHANGE_VERSION_NAME:"AdsPlanner.CHANGE_VERSION_NAME",CHECK_PREDICTION_STALENESS:"AdsPlanner.CHECK_PREDICTION_STALENESS",CLEAR_BUDGET_REACH_AUTO_CORRECTION_NOTICE:"AdsPlanner.CLEAR_BUDGET_REACH_AUTO_CORRECTION_NOTICE",CLEAR_PLAN_SELECTION:"AdsPlanner.CLEAR_PLAN_SELECTION",CLOSE_TOUR_NUX:"AdsPlanner.CLOSE_TOUR_NUX",DELETE_PLANS:"AdsPlanner.DELETE_PLANS",DELETE_VERSION:"AdsPlanner.DELETE_VERSION",DISABLE_TARGETING_ACCOUNT_INLINE_NUX:"AdsPlanner.DISABLE_TARGETING_ACCOUNT_INLINE_NUX",DUPLICATE_VERSION_SETTINGS:"AdsPlanner.DUPLICATE_VERSION_SETTINGS",EDIT_AD_ACCOUNT:"AdsPlanner.EDIT_AD_ACCOUNT",EDIT_INSTAGRAM_ACCOUNT:"AdsPlanner.EDIT_INSTAGRAM_ACCOUNT",EDIT_OTHER_OPTIONS:"AdsPlanner.EDIT_OTHER_OPTIONS",EDIT_PAGE:"AdsPlanner.EDIT_PAGE",EDIT_SCHEDULE:"AdsPlanner.EDIT_SCHEDULE",EDIT_TARGETING:"AdsPlanner.EDIT_TARGETING",END_TOUR:"AdsPlanner.END_TOUR",HIDE_NOTICE:"AdsPlanner.HIDE_NOTICE",HIDE_PLANNER_DRAWER:"AdsPlanner.HIDE_PLANNER_DRAWER",HOVER_PLAN:"AdsPlanner.HOVER_PLAN",HOVER_TOOLTIP:"AdsPlanner.HOVER_TOOLTIP",HOVER_VERSION:"AdsPlanner.HOVER_VERSION",INIT_APP:"AdsPlanner.INIT_APP",INIT_SUGGESTED_VERSION_WITH_PREDICTION:"AdsPlanner.INIT_SUGGESTED_VERSION_WITH_PREDICTION",LOAD_PLANNER_LOCAL_EDITING_STORE:"AdsPlanner.LOAD_PLANNER_LOCAL_EDITING_STORE",NAVIGATE_HOME:"AdsPlanner.NAVIGATE_HOME",OPEN_READ_ONLY_TARGETING:"AdsPlanner.OPEN_READ_ONLY_TARGETING",PLAN_CREATION_COMPLETED:"AdsPlanner.PLAN_CREATION_COMPLETED",REMOVE_PENDING_SYNC_FOR_PLANS:"AdsPlanner.REMOVE_PENDING_SYNC_FOR_PLANS",REMOVE_PLAN_SELECTIONS:"AdsPlanner.REMOVE_PLAN_SELECTIONS",SEARCH_ID:"AdsPlanner.SEARCH_ID",SELECT_COMPARED_VERSIONS:"AdsPlanner.SELECT_COMPARED_VERSIONS",SELECT_FROM_NAVIGATION:"AdsPlanner.SELECT_FROM_NAVIGATION",SELECT_PLANS:"AdsPlanner.SELECT_PLANS",SET_BIZ_SELECTOR_SHOWN:"AdsPlanner.SET_BIZ_SELECTOR_SHOWN",SET_CAMPAIGN_DURATION_LIMIT:"AdsPlanner.SET_CAMPAIGN_DURATION_LIMIT",SET_HAS_CONNECTED_BUSINESSES:"AdsPlanner.SET_HAS_CONNECTED_BUSINESSES",SET_IS_ACCESS_REQUEST_SUBMITTED:"AdsPlanner.SET_IS_ACCESS_REQUEST_SUBMITTED",SET_IS_CHOOSE_AD_ACCOUNT_DIALOG_SHOWN:"AdsPlanner.SET_IS_CHOOSE_AD_ACCOUNT_DIALOG_SHOWN",SET_IS_EXPANDED:"AdsPlanner.SET_IS_EXPANDED",SET_IS_PURCHASE_DIALOG_SHOWN:"AdsPlanner.SET_IS_PURCHASE_DIALOG_SHOWN",SET_IS_SETTINGS_DIALOG_SHOWN:"AdsPlanner.SET_IS_SETTINGS_DIALOG_SHOWN",SET_IS_SHARE_EMAIL_DIALOG_SHOWN:"AdsPlanner.SET_IS_SHARE_EMAIL_DIALOG_SHOWN",SET_IS_SHARE_LINK_DIALOG_SHOWN:"AdsPlanner.SET_IS_SHARE_LINK_DIALOG_SHOWN",SET_SELECTED_VERSION_ID:"AdsPlanner.SET_SELECTED_VERSION_ID",SHARE_COPY_LINK:"AdsPlanner.SHARE_COPY_LINK",SHARE_DOWNLOAD_CSV:"AdsPlanner.SHARE_DOWNLOAD_CSV",SHARE_SEND_EMAIL:"AdsPlanner.SHARE_SEND_EMAIL",TOGGLE_IS_EXPANDED:"AdsPlanner.TOGGLE_IS_EXPANDED",SAVE_COPY:"AdsPlanner.SAVE_COPY",SAVE_COPY_FAILED:"AdsPlanner.SAVE_COPY_FAILED",SAVE_COPY_LOCAL:"AdsPlanner.SAVE_COPY_LOCAL",SAVED_SHARED_PLAN:"AdsPlanner.SAVED_SHARED_PLAN",SPLASH_HIDE:"AdsPlanner.SPLASH_HIDE",SET_PERMISSIONS:"AdsPlanner.SET_PERMISSIONS",SPLASH_SHOW:"AdsPlanner.SPLASH_SHOW",START_CAMPAIGN_CREATION:"AdsPlanner.START_CAMPAIGN_CREATION",START_TOUR:"AdsPlanner.START_TOUR",SYNC_PLAN_AFTER_VERSION_CHANGE:"AdsPlanner.SYNC_PLAN_AFTER_VERSION_CHANGE",UNDO_PLANS_DELETION:"AdsPlanner.UNDO_PLANS_DELETION",UNDO_VERSIONS_DELETION:"AdsPlanner.UNDO_VERSIONS_DELETION",UNHOVER_PLAN:"AdsPlanner.UNHOVER_PLAN",UNHOVER_TOOLTIP:"AdsPlanner.UNHOVER_TOOLTIP",UNHOVER_VERSION:"AdsPlanner.UNHOVER_VERSION",UPDATE_EMAIL_INFO:"AdsPlanner.UPDATE_EMAIL_INFO",UPDATE_PREDICTION:"AdsPlanner.UPDATE_PREDICTION",UPDATE_PREDICTION_FOR_BUDGET_REACH:"AdsPlanner.UPDATE_PREDICTION_FOR_BUDGET_REACH"};}),null);
__d("AdsSideTrayKeys",[],(function a(b,c,d,e,f,g){f.exports={ACTIVITY_HISTORY_DRAWER:"ACTIVITY_HISTORY_DRAWER",EDITOR_DRAWER:"EDITOR_DRAWER",INSIGHTS_DRAWER:"INSIGHTS_DRAWER",NEKO_DEBUGGER_DRAWER:"NEKO_DEBUGGER_DRAWER"};}),null);
__d('AdsInstagramAccountActionSources',[],(function a(b,c,d,e,f,g){'use strict';var h={CF_AUCTION:'cf_auction',NAM_AUCTION:'nam_auction',PE_AUCTION:'pe_auction',PE_REACH_FREQUENCY:'pe_reach_frequency',REACH_FREQUENCY_PLANNER:'reach_frequency_planner',TRP:'trp'};f.exports=h;}),null);
__d('AdsBusinessInstagramAccountActions',['AdsDispatcher','AdsInstagramAccountActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={accountsBatchLoaded:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({specs:j,type:c('AdsInstagramAccountActionTypes').BUSINESS.BATCH_LOADED});},accountsBatchLoadError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({errors:j,type:c('AdsInstagramAccountActionTypes').BUSINESS.BATCH_LOAD_ERROR});}};f.exports=h;}),null);
__d('AdsInstagramUsernameActions',['AdsDispatcher','AdsInstagramAccountActionTypes','Map'],(function a(b,c,d,e,f,g){'use strict';var h={usernameLoaded:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({specs:j,type:c('AdsInstagramAccountActionTypes').USERNAME.LOADED});},usernameLoadError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({errors:j,type:c('AdsInstagramAccountActionTypes').USERNAME.LOAD_ERROR});}};f.exports=h;}),null);
__d('AdsBusinessInstagramAccountDataManager',['fbt','AdsBaseDataManager','AdsBusinessInstagramAccountActions','AdsGraphAPI','GraphEdgeName','GraphInstagramUserFields','Map'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=100;i=babelHelpers.inherits(l,c('AdsBaseDataManager'));j=i&&i.prototype;l.prototype.loadAll=function(m){m.forEach(function(n){return this.load(n);}.bind(this));};l.prototype.load=function(m){c('AdsGraphAPI').get(f.id).adaccount(m).edge(c('GraphEdgeName').INSTAGRAM_ACCOUNTS).batched().get({fields:[c('GraphInstagramUserFields').HAS_PROFILE_PIC,c('GraphInstagramUserFields').ID,c('GraphInstagramUserFields').IS_PRIVATE,c('GraphInstagramUserFields').IS_PUBLISHED,c('GraphInstagramUserFields').PROFILE_PIC,c('GraphInstagramUserFields').USERNAME],limit:k}).done(this.__handleSuccess.bind(this,['load'],m,null),this.__handleError.bind(this,['load'],m,null));};l.prototype.__onBatchLoaded=function(m){c('AdsBusinessInstagramAccountActions').accountsBatchLoaded(m);};l.prototype.__onBatchLoadError=function(m){c('AdsBusinessInstagramAccountActions').accountsBatchLoadError(m);};l.prototype.__getObjectTypeLabel=function(){return h._("Instagram Account");};function l(){i.apply(this,arguments);}f.exports=new l();}),null);
__d('AdsInstagramUsernameDataManager',['AdsBaseDataManager','AdsGraphAPI','AdsInstagramUsernameActions','GraphInstagramUserFields','Map'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseDataManager'));i=h&&h.prototype;j.prototype.loadAll=function(k){k.forEach(function(l){return this.load(l);}.bind(this));};j.prototype.load=function(k){c('AdsGraphAPI').get(f.id).object('instagram_object',k).batched().get({fields:[c('GraphInstagramUserFields').HAS_PROFILE_PIC,c('GraphInstagramUserFields').ID,c('GraphInstagramUserFields').IS_PRIVATE,c('GraphInstagramUserFields').IS_PUBLISHED,c('GraphInstagramUserFields').PROFILE_PIC,c('GraphInstagramUserFields').USERNAME]}).done(function(l){return this.__handleSuccess(['load'],k,null,l);}.bind(this),function(l){return this.__handleError(['load'],k,null,l);}.bind(this));};j.prototype.__onBatchLoaded=function(k){c('AdsInstagramUsernameActions').usernameLoaded(k);};j.prototype.__onBatchLoadError=function(k){c('AdsInstagramUsernameActions').usernameLoadError(k);};function j(){h.apply(this,arguments);}f.exports=new j();}),null);
__d('AdsBusinessInstagramAccountStore',['AdsBaseDataStore','AdsBusinessInstagramAccountDataManager','AdsInstagramAccountActionTypes','AdsLoadState','AdsLoadStateUtils'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseDataStore'));i=h&&h.prototype;j.prototype.getDataManager=function(){return c('AdsBusinessInstagramAccountDataManager');};j.prototype.__onDispatch=function(k){var l=k.action;switch(l.type){case c('AdsInstagramAccountActionTypes').BUSINESS.BATCH_LOADED:this.__handleData(l.specs,c('AdsLoadState').LOADED);break;case c('AdsInstagramAccountActionTypes').BUSINESS.BATCH_LOAD_ERROR:this.__handleData(l.errors,c('AdsLoadState').ERROR);break;case c('AdsInstagramAccountActionTypes').ERROR.REFRESH_ALL_ERRORS:if(this.__invalidateAllErrors())this.__emitChange();break;}};function j(){h.apply(this,arguments);}f.exports=new j();}),null);
__d('AdsInstagramUsernameStore',['AdsBaseDataStore','AdsInstagramAccountActionTypes','AdsLoadState','AdsInstagramUsernameDataManager','GraphEdgeName','Map','getByPath'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseDataStore'));i=h&&h.prototype;j.prototype.getDataManager=function(){return c('AdsInstagramUsernameDataManager');};j.prototype.__onDispatch=function(k){var l=k.action;switch(l.type){case c('AdsInstagramAccountActionTypes').USERNAME.LOADED:this.__handleData(l.specs,c('AdsLoadState').LOADED);break;case c('AdsInstagramAccountActionTypes').USERNAME.LOAD_ERROR:this.__handleData(l.errors,c('AdsLoadState').ERROR);break;case c('AdsInstagramAccountActionTypes').PAGE.BATCH_LOADED:this.$AdsInstagramUsernameStore1(l.specs);break;case c('AdsInstagramAccountActionTypes').BUSINESS.BATCH_LOADED:this.$AdsInstagramUsernameStore2(l.specs);break;case c('AdsInstagramAccountActionTypes').ERROR.REFRESH_ALL_ERRORS:if(this.__invalidateAllErrors())this.__emitChange();break;}};j.prototype.$AdsInstagramUsernameStore1=function(k){if(!k||k.size===0)return;var l=new (c('Map'))();k.forEach(function(m,n){var o=c('getByPath')(m,[c('GraphEdgeName').PAGE_BACKED_INSTAGRAM_ACCOUNTS,'data'],[]).concat(c('getByPath')(m,[c('GraphEdgeName').INSTAGRAM_ACCOUNTS,'data'],[]));o.forEach(function(p){return l.set(p.id,p);});});this.__handleData(l,c('AdsLoadState').LOADED);};j.prototype.$AdsInstagramUsernameStore2=function(k){if(!k||k.size===0)return;var l=new (c('Map'))();k.forEach(function(m,n){var o=c('getByPath')(m,['data'],[]);o.forEach(function(p){return l.set(p.id,p);});});this.__handleData(l,c('AdsLoadState').LOADED);};function j(){h.apply(this,arguments);}f.exports=new j();}),null);
__d('AdsInstagramAccountUtils',['AdsLoadStateUtils','GraphEdgeName','GraphInstagramUserFields','Map','getByPath'],(function a(b,c,d,e,f,g){'use strict';var h={mapToDestinations:function i(j){return j.map(function(k){return {id:k[c('GraphInstagramUserFields').ID],name:k[c('GraphInstagramUserFields').USERNAME],icon_url:k[c('GraphInstagramUserFields').PROFILE_PIC]};});},getPageBackedInstagramAccountMap:function i(j){var k=new (c('Map'))();j.forEach(function(l){var m=h.getLoadedPageBackedInstagramAccount(l);if(m)k.set(m.id,m);});return k;},getLoadedPageBackedInstagramAccount:function i(j){if(!c('AdsLoadStateUtils').isLoaded(j))return null;var k=c('getByPath')(j,[c('GraphEdgeName').PAGE_BACKED_INSTAGRAM_ACCOUNTS,'data'],[]);return k.length>0?k[0]:null;},isPublished:function i(j){if(!c('AdsLoadStateUtils').isLoaded(j))return null;return j.is_published;},filterOutPrivateInstagramAccounts:function i(j){return j.filter(function(k){return !k[c('GraphInstagramUserFields').IS_PRIVATE];});}};f.exports=h;}),null);
__d('AdsInstagramAccountStoreUtils',['Promise','AdsAdgroupActions','AdsBulkInstagramApplicabilityUtils','AdsBulkValueUtils','AdsBusinessInstagramAccountStore','AdsLoadStateUtils','AdsInstagramAccountActionSources','AdsInstagramAccountUtils','AdsInstagramActorIDUtils','AdsInstagramUsernameStore','AdsPageInstagramAccountStore','AdsPageInstagramAccountActions','AdsPageStore','AdsStoreUtils','GraphEdgeName','GraphInstagramUserFields','Map','promiseAllByKey','getByPath'],(function a(b,c,d,e,f,g){'use strict';var h={adgroupIDs:null,instagramAccountID:null,pageAccessToken:null,needDefaultOn:false},i={getDefaultInstagramAccountID:function j(k,l){var m=void 0,n=c('getByPath')(k,[c('GraphEdgeName').PAGE_BACKED_INSTAGRAM_ACCOUNTS,'data']);if(n&&n.length>0)m=n[0].id;if(!l){var o=c('getByPath')(k,[c('GraphEdgeName').INSTAGRAM_ACCOUNTS,'data']);if(o&&o.length>0)m=o[0].id;}return m;},getDefaultInstagramAccount:function j(k,l,m,n,o){var p=i.getDefaultInstagramAccountID(l,m);return {adgroupIDs:k,instagramAccountID:p,needDefaultOn:o,pageAccessToken:n};},shouldSetDefaultInstagramAccount:function j(k,l,m){if(!l||m)return c('Promise').resolve(true);return c('AdsStoreUtils').promiseAsyncGetForSyncStore(c('AdsBusinessInstagramAccountStore'),function(){return c('AdsBusinessInstagramAccountStore').get(k);}).then(function(n){var o=c('getByPath')(n,['data']);return !o||o.length===0;});},businessSelectedPBIA:function j(k,l){if(!k||!l)return c('Promise').resolve(false);return i.promiseInstagramAccounts(k.getValues()).then(function(m){var n=false;m.forEach(function(o){n=n||!o[c('GraphInstagramUserFields').IS_PUBLISHED];});return n;});},needToSetDefaultInstagramAccount:function j(k,l,m,n){return c('promiseAllByKey')({setDefaultInstagramAccount:i.shouldSetDefaultInstagramAccount(k,l,n),businessSelectedPBIA:i.businessSelectedPBIA(m,l)});},promiseAdgroupIDsNeedDefaultInstagramAccounts:function j(k,l,m){if(!k)return c('Promise').resolve([]);if(l)return c('Promise').resolve(k.id.getValues());if(m)return i.getAdgroupIDsUsingPageBackedInstagramAccount(k);return c('Promise').resolve([]);},promiseDefaultInstagramAccountForPage:function j(k,l,m,n,o,p){if(!o&&n)o=c('AdsInstagramActorIDUtils').getBulkInstagramActorID(n);return i.needToSetDefaultInstagramAccount(k,l,o,p).then(function(q){var r=q.setDefaultInstagramAccount,s=q.businessSelectedPBIA;if(!r&&!s)return {adgroupIDs:null,instagramPageAccounts:null,pageAccessToken:null};return c('promiseAllByKey')({instagramPageAccounts:c('AdsStoreUtils').promiseAsyncGetForSyncStore(c('AdsPageInstagramAccountStore'),function(){return c('AdsPageInstagramAccountStore').get(m);}),adgroupIDs:i.promiseAdgroupIDsNeedDefaultInstagramAccounts(n,r,s),pageAccessToken:c('AdsStoreUtils').promiseAsyncGetForSyncStore(c('AdsPageStore'),function(){return c('AdsPageStore').get(m);}).then(function(t){return t.access_token;})});}).then(function(q){var r=q.instagramPageAccounts,s=q.adgroupIDs,t=q.pageAccessToken;if(r)return i.getDefaultInstagramAccount(s,r,l,t,true);return h;});},promisePageBackedInstagramAccountForPages:function j(k){return c('AdsStoreUtils').promiseAsyncGetForSyncStore(c('AdsPageInstagramAccountStore'),function(){return c('AdsPageInstagramAccountStore').getAll(k);}).then(function(l){var m=new (c('Map'))();l.forEach(function(n,o){var p=c('AdsInstagramAccountUtils').getLoadedPageBackedInstagramAccount(n);if(o&&p)m.set(o,p);});return m;});},promiseInstagramAccounts:function j(k){return c('AdsStoreUtils').promiseAsyncGetForSyncStore(c('AdsInstagramUsernameStore'),function(){return c('AdsInstagramUsernameStore').getAll(k);});},getAdgroupIDsUsingPageBackedInstagramAccount:function j(k){var l=c('AdsInstagramActorIDUtils').getBulkInstagramActorID(k),m=l.getValues();if(m.length===0)return c('Promise').resolve([]);return i.promiseInstagramAccounts(m).then(function(n){var o=[];c('AdsBulkValueUtils').deaggregateDeepByID(k).forEach(function(p){var q=c('AdsInstagramActorIDUtils').getInstagramActorID(p),r=p.id,s=q&&n.get(q);if(r&&s&&!s[c('GraphInstagramUserFields').IS_PUBLISHED])o.push(r);});return o;});},updatePageInstagramAccountsInAdgroups:function j(k,l,m,n){if(!c('AdsBulkInstagramApplicabilityUtils').someHaveInstagramPlacement(l)||!n.id)return;i.promiseDefaultInstagramAccountForPage(m.account_id,m.business&&m.business.id,n.id,k).done(function(o){var p=o.instagramAccountID,q=o.needDefaultOn,r=o.adgroupIDs;if(!q||!r||r.length===0)return;if(p){c('AdsAdgroupActions').setInstagramAccountID(r,p);}else c('AdsPageInstagramAccountActions').createAndUsePageBackedAccount(null,r,n.id,n.access_token,c('AdsInstagramAccountActionSources').PE_AUCTION);});}};f.exports=i;}),null);
__d('AdsReachFrequencyFlowActions',['AdsApplicationUtils','AdsInstagramAccountActionSources','AdsInstagramAccountStoreUtils','AdsPageInstagramAccountActions','AdsPERouterHelper','AdsReachFrequencyFlowActionTypes','AdsSideTrayKeys','AdsTypedDispatcher','getByPath'],(function a(b,c,d,e,f,g){'use strict';var h={changeActiveTab:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,activeTab:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_ACTIVE_TAB});},closeSpendCurveNotice:function i(j){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,type:c('AdsReachFrequencyFlowActionTypes').CLOSE_SPEND_CURVE_NOTICE});},createNewSavedAudience:function i(j,k,l,m){c('AdsTypedDispatcher').handleUpdateFromViewAction({accountID:j,campaignID:k,audienceName:l,targetingSpec:m,type:c('AdsReachFrequencyFlowActionTypes').CREATE_NEW_SAVED_AUDIENCE});},changeSavedAudience:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,savedAudience:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_SAVED_AUDIENCE});},initFlow:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,initialState:k,type:c('AdsReachFrequencyFlowActionTypes').INIT_FLOW});},startUpload:function i(){c('AdsTypedDispatcher').handleUpdateFromViewAction({type:c('AdsReachFrequencyFlowActionTypes').START_UPLOAD});},setPredictionID:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({ids:[j],predictionID:k,type:c('AdsReachFrequencyFlowActionTypes').SET_PREDICTION_ID});},setPredictionPending:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,isPending:k,type:c('AdsReachFrequencyFlowActionTypes').SET_PREDICTION_PENDING});},setReservationPending:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,isPending:k,type:c('AdsReachFrequencyFlowActionTypes').SET_RESERVATION_PENDING});},setShown:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,shown:k,type:c('AdsReachFrequencyFlowActionTypes').SET_SHOWN});},changeAdFormat:function i(j,k,l,m){c('AdsTypedDispatcher').handleUpdateFromViewAction({eligibilityInformation:m,ids:j,value:k,status:l,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_AD_FORMAT});},changeExportDialogShown:function i(j){c('AdsTypedDispatcher').handleUpdateFromViewAction({isShown:j,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_EXPORT_DIALOG_SHOWN});},changeGraphMetricsInputFieldType:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,inputField:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_GRAPH_METRICS_INPUT_FIELD});},changeObjective:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,objective:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_OBJECTIVE});},changeTargeting:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,targeting:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_TARGETING});},changeDestination:function i(j,k,l,m,n,o){c('AdsTypedDispatcher').handleUpdateFromViewAction({appStoreUrl:j,ids:[k],destinationID:l,destinationLabel:m,isApp:n,shouldPredict:o,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_DESTINATION});},changeInstagramDestination:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({ids:[j],instagramActorID:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_INSTAGRAM_DESTINATION});},changeLink:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({ids:[j],link:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_LINK});},changeDateStart:function i(j,k){if(k)c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,dateStart:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_DATE_START});},changeDateStop:function i(j,k){if(k)c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,dateStop:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_DATE_STOP});},changeDayPartingSchedule:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,campaignSchedule:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_DAY_PARTING_SCHEDULE});},changeDayPartingEditMode:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,isDayPartingEditMode:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_DAY_PARTING_EDIT_MODE});},changeFrequencyCap:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,frequencyCap:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_FREQUENCY_CAP});},changeBudgetValue:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({budgetValue:k,campaignID:j,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_BUDGET_VALUE});},changeBudgetValueAndInterpolate:function i(j,k,l){c('AdsTypedDispatcher').handleUpdateFromViewAction({budgetValue:k,campaignID:j,shouldPredict:l,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_BUDGET_VALUE_AND_INTERPOLATE});},changeReachValueAndInterpolate:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({reachValue:k,campaignID:j,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_REACH_VALUE_AND_INTERPOLATE});},changeReachValue:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,reachValue:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_REACH_VALUE});},changeResetPeriod:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,intervalFrequencyCapResetPeriod:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_RESET_PERIOD});},changeIsEditingAudience:function i(j,k,l){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,isEditingAudience:k,refreshedAudience:l,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_IS_EDITING_AUDIENCE});},changeRefreshedAudience:function i(j){c('AdsTypedDispatcher').handleUpdateFromViewAction({refreshedAudience:j,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_REFRESHED_AUDIENCE});},changeIsBonusMedia:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,isBonusMedia:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_IS_BONUS_MEDIA});},changeIsEditingPlacement:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,isEditingPlacement:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_IS_EDITING_PLACEMENT});},changeIsFullView:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,isFullView:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_IS_FULL_VIEW});},changeIsFrequencyCapErrorShown:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,isFrequencyCapErrorShown:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_IS_FREQUENCY_CAP_ERR0R_SHOWN});},changeIsResetPeriodErrorShown:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,isResetPeriodErrorShown:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_IS_RESET_PERIOD_ERR0R_SHOWN});},getPredictionSuccess:function i(j,k,l,m){c('AdsTypedDispatcher').handleUpdateFromServerResponse({campaignID:j,currentTimeUnix:m||Date.now(),prediction:k,params:l,type:c('AdsReachFrequencyFlowActionTypes').GET_PREDICTION_SUCCESS});},getReservationSuccess:function i(j,k,l){c('AdsTypedDispatcher').handleUpdateFromServerResponse({campaignID:j,reservation:k,originalPredictionID:l,type:c('AdsReachFrequencyFlowActionTypes').GET_RESERVATION_SUCCESS});},removeErrors:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromServerResponse({campaignID:j,errors:k,type:c('AdsReachFrequencyFlowActionTypes').REMOVE_ERRORS});},setErrors:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromServerResponse({campaignID:j,errors:k,type:c('AdsReachFrequencyFlowActionTypes').SET_ERRORS});},exportCurve:function i(){c('AdsTypedDispatcher').handleUpdateFromViewAction({type:c('AdsReachFrequencyFlowActionTypes').EXPORT_CURVE});},reserveStep:function i(j){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,type:c('AdsReachFrequencyFlowActionTypes').GOTO_RESERVE});},reservationCompleted:function i(j){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,type:c('AdsReachFrequencyFlowActionTypes').RESERVATION_COMPLETED});},nextStep:function i(j){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,type:c('AdsReachFrequencyFlowActionTypes').NEXT_STEP});},previousClicked:function i(j){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,type:c('AdsReachFrequencyFlowActionTypes').PREVIOUS_CLICKED});},dialogToggled:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,shouldHandleClose:k,type:c('AdsReachFrequencyFlowActionTypes').TOGGLED});},campaignChanged:function i(j){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_CAMPAIGN});},runInitialPrediction:function i(j){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,type:c('AdsReachFrequencyFlowActionTypes').RUN_INITIAL_PREDICTION});},saveState:function i(j,k,l){var m=[j];c('AdsTypedDispatcher').handleUpdateFromViewAction({ids:m,step:k,state:l,type:c('AdsReachFrequencyFlowActionTypes').SAVE_STATE});},setIsEditMode:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({ids:j,isEditMode:k,type:c('AdsReachFrequencyFlowActionTypes').SET_IS_EDIT_MODE});},logError:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,error:k,type:c('AdsReachFrequencyFlowActionTypes').LOG_SAVED_AUDIENCE_CREATE_ERROR});},changeEvent:function i(j,event,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({ids:j,event:event,eligibilityInformation:k,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_EVENT});},changeSearchIDResult:function i(j){c('AdsTypedDispatcher').handleUpdateFromViewAction({response:j,type:c('AdsReachFrequencyFlowActionTypes').CHANGE_SEARCH_ID_RESULT});},setInstagramDestination:function i(j,k,l){c('AdsInstagramAccountStoreUtils').promiseDefaultInstagramAccountForPage(j.account_id,c('getByPath')(j,['business','id']),l,null,null,true,true,true).done(function(m){var n=m.instagramAccountID,o=m.needDefaultOn,p=m.pageAccessToken;if(!o)return;if(n){h.changeInstagramDestination(k,n);}else c('AdsPageInstagramAccountActions').createAndUsePageBackedAccount(k,[],l,p||'',c('AdsInstagramAccountActionSources').PE_REACH_FREQUENCY);});},setShowPauseDialog:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({ids:j,isShown:k,type:c('AdsReachFrequencyFlowActionTypes').SET_SHOW_PAUSE_DIALOG});},setShowUnpauseDialog:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({ids:j,isShown:k,type:c('AdsReachFrequencyFlowActionTypes').SET_SHOW_UNPAUSE_DIALOG});},setIsUnpausePending:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({campaignID:j,isUnpausePending:k,type:c('AdsReachFrequencyFlowActionTypes').SET_IS_UNPAUSE_PENDING});},toggleOpenEditor:function i(j){if(c('AdsApplicationUtils').isPowerEditor()){var k=c('AdsPERouterHelper').getPERouter();k.open(c('AdsSideTrayKeys').EDITOR_DRAWER,null,{context:{toggleSource:j}});}},initNew:function i(j,k,l,m,n){c('AdsTypedDispatcher').handleUpdateFromViewAction({accountInfo:j,campaignGroupID:k,campaignID:l,objective:m,destinationID:n,type:c('AdsReachFrequencyFlowActionTypes').INIT_NEW});},initExisting:function i(j,k,l,m,n,o){c('AdsTypedDispatcher').handleUpdateFromViewAction({accountInfo:j,campaignGroupID:k,campaignID:l,prediction:m,campaign:n,isMidCampaignEdit:o,type:c('AdsReachFrequencyFlowActionTypes').INIT_EXISTING});},loadSearchResults:function i(j){c('AdsTypedDispatcher').handleUpdateFromViewAction({results:j,type:c('AdsReachFrequencyFlowActionTypes').LOAD_SEARCH_RESULTS});},updateReachCurveSelection:function i(j,k,l,m,n){c('AdsTypedDispatcher').handleUpdateFromViewAction({curveData:j,xValue:k,scaleX:l,scaleY:m,planID:n,type:c('AdsReachFrequencyFlowActionTypes').UPDATE_REACH_CURVE_SELECTION});},toggleGraphExpandStatus:function i(j,k){c('AdsTypedDispatcher').handleUpdateFromViewAction({graphName:j,isCurrentlyExpanded:k,type:c('AdsReachFrequencyFlowActionTypes').TOGGLE_GRAPH_EXPANDED});}};f.exports=h;}),null);