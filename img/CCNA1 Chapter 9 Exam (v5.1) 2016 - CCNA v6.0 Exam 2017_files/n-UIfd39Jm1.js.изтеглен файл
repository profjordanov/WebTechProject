if (self.CavalryLogger) { CavalryLogger.start_js(["A3HrJ"]); }

__d('AdsPlatformTypes',[],(function a(b,c,d,e,f,g){'use strict';var h={DEFAULT_PLATFORM:'default_platform',INSTAGRAM:'instagram'};f.exports=h;}),null);
__d('AdsXoutBox.react',['cx','ix','Image.react','Link.react','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';var n=null;if(this.props.isXoutable)n=c('React').createElement(c('FBOverlayElement.react'),{horizontal:'right',vertical:'top'},c('React').createElement(c('Link.react'),{className:"_x7t",onClick:this.props.onXoutClick},c('React').createElement(c('Image.react'),{src:i("23122")})));return c('React').createElement(c('FBOverlayContainer.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_x7u"+(this.props.isXoutable?' '+"_x7v":''))}),c('React').createElement(c('FBOverlayBase.react'),null,this.props.children),n);};function m(){'use strict';j.apply(this,arguments);}m.propTypes={isXoutable:l.bool,onXoutClick:l.func};m.defaultProps={isXoutable:true};f.exports=m;}),null);
__d('AdsImagePanelItem.react',['cx','fbt','invariant','ix','AdsCFReviewAPIStore','AdsCreativeImageTextOverlayDialog.react','AdsError','AdsFullSizeImageBoxContainer.react','AdsImageCollection','AdsImageCropperIconContainer.react','AdsImageIDUtils','AdsImageLegacy','AdsImageUploadErrorActions','AdsInstagramErrorUtils','AdsQE','AdsShutterstockImageByIDStore','AdsValidationIcon.react','AdsValidationIconType','AdsXoutBox.react','AdsXUIProgressBar.react','BUIAdoptionXUIGrayText.react','BUIAdoptionXUISpinner.react','CenteredContainer.react','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','FluxMixinLegacy','GradientBox.react','Image.react','InstagramImageResolutionExperiment','Link.react','React','ReactComponentWithPureRenderMixin','emptyFunction','fbglyph','joinClasses'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l=c('React').PropTypes,m={small:{height:72,width:136},medium:{height:84,width:180},large:{height:120,width:290}},n=100;function o(q){return m[q];}var p=c('React').createClass({displayName:'AdsImagePanelItem',mixins:[c('ReactComponentWithPureRenderMixin'),c('FluxMixinLegacy')([c('AdsCFReviewAPIStore'),c('AdsShutterstockImageByIDStore')],{withProps:true})],propTypes:{accountID:l.string,canUpload:l.bool,defaultLoadingPlaceholder:l.node,disableCropping:l.bool,disabledSpecs:l.arrayOf(l.object),fileInputNodeID:l.string,firstLoad:l.bool,image:l.instanceOf(c('AdsImageLegacy')),imageCollection:l.instanceOf(c('AdsImageCollection')),imageErrors:l.arrayOf(l.instanceOf(c('AdsError'))).isRequired,imageResolutionQE:l.instanceOf(c('AdsQE')),imageSpecs:l.arrayOf(l.object),isDefaultLoading:l.bool,isIndividualUploader:l.bool,progressValue:l.number,selected:l.bool,size:l.oneOf(['small','medium','large']),uploadErrors:l.arrayOf(l.shape({longMessage:l.node.isRequired,shortMessage:l.node.isRequired}).isRequired),uploadIcon:l.string,onConfirmCropping:l.func,onRemove:l.func,onUploadImageClick:l.func},statics:{calculateState:function q(r,s){var t=[],u=null,v='';if(s.image){var w=s.image.getHashOrUrl();t=c('AdsCFReviewAPIStore').getTextOverlayBoxesForIdentifier(w);v=c('AdsCFReviewAPIStore').getTextPenaltyWarningsForIdentifier(w);if(s.image.isStockImage()){var x=s.image.getStockImageID();u=c('AdsShutterstockImageByIDStore').get(x);}}return {imageTextOverlayDialogShown:false,isTextPenaltyViolation:c('AdsCFReviewAPIStore').getIsTextPenaltyViolation(),textOverlayBoxes:t,textOverlayWarning:v,size:o(s.size),stockImageLoadObject:u};}},getDefaultProps:function q(){return {canUpload:false,disableCropping:false,firstLoad:true,imageErrors:[],isIndividualUploader:false,selected:false,size:'medium',uploadErrors:null,onConfirmCropping:c('emptyFunction'),onUploadImageClick:c('emptyFunction')};},_receiveStockImageDetails:function q(r){if(this.isMounted()&&this.props.image&&this.props.image.equals(r))this.forceUpdate();},componentWillReceiveProps:function q(r){this.setState({size:o(r.size)});},render:function q(){var r=this.props.image,s=r?r.getUrl():null,t=void 0;if(r){if(r.isStockImage()){var u=this.state.stockImageLoadObject;if(u.hasValue()){t=this._renderImage(r);}else if(u.hasError()){t=this._renderErrorBox([this._getStockErrorMessage()],this._onRemoveClick);}else t=this._renderProgressBox(i._("Waiting"),100);}else t=s?this._renderImage(r):null;}else if(this.props.progressValue){t=this._renderProgressBox(i._("Uploading"),this.props.progressValue);}else if(this.props.fileInputNodeID){if(this.props.isIndividualUploader){t=this._renderIndividualUploaderIcon();}else t=this._renderUploaderIcon();}else if(this.props.uploadErrors&&this.props.uploadErrors.length>0)t=this._renderErrorBox(this.props.uploadErrors,c('AdsImageUploadErrorActions').removeErrors);return c('React').createElement('div',{className:this._getClassName(),style:this.state.size},t,this._renderImageTextOverlayDialog());},_renderImageTextOverlayDialog:function q(){var r=this.props.image;if(!r||!this._shouldShowTextOverlayWarning())return null;return c('React').createElement(c('AdsCreativeImageTextOverlayDialog.react'),{dialogShown:this.state.imageTextOverlayDialogShown,images:[r],preselectedBoxes:[this.state.textOverlayBoxes],readOnly:true,onHide:this._hideImageTextOverlayDialog});},_showImageTextOverlayDialog:function q(){this.setState({imageTextOverlayDialogShown:true});},_hideImageTextOverlayDialog:function q(){this.setState({imageTextOverlayDialogShown:false});},_renderCropIcon:function q(){if(this.props.disableCropping)return null;var r=c('React').createElement(c('Image.react'),{src:k("140329")}),s=this.props.imageSpecs;s||j(0);var t=this.props.onConfirmCropping;t||j(0);return c('React').createElement(c('FBOverlayElement.react'),{className:"__08",horizontal:'right',vertical:'bottom'},c('React').createElement('div',{className:"__09"},c('React').createElement('div',{className:"__0a"}),c('React').createElement('div',{className:"_5uvv"},c('React').createElement(c('AdsImageCropperIconContainer.react'),{accountID:this.props.accountID,cropIcon:r,disabledSpecs:this.props.disabledSpecs,image:this.props.image,imageCollection:this.props.imageCollection,imageSpecs:s,onConfirmCropping:t}))));},_renderRemoveIcon:function q(){if(!this.props.onRemove)return null;return c('React').createElement(c('FBOverlayElement.react'),{horizontal:'right',vertical:'top'},c('React').createElement(c('Link.react'),{onClick:this._onRemoveClick},c('React').createElement(c('Image.react'),{src:k("23122")})));},_renderGradientBottom:function q(){return c('React').createElement(c('FBOverlayElement.react'),{vertical:'bottom'},c('React').createElement(c('GradientBox.react'),{className:"_2npp",color:'black',direction:'up'}));},_renderImage:function q(r){var s=this.props.imageSpecs;if(!s||!s.length)return null;var t=s[0],u=r.getCrop(t.cropKey),v=c('AdsImageIDUtils').getImageIDFromLegacyImage(this.props.accountID,r);if(!v)return null;return c('React').createElement(c('FBOverlayContainer.react'),null,c('React').createElement(c('FBOverlayBase.react'),null,c('React').createElement(c('AdsFullSizeImageBoxContainer.react'),{crop:u,height:this.state.size.height,imageID:v,renderStyle:'SCALE_CROP',width:this.state.size.width})),this._renderGradientBottom(),this._renderImageSizeInfo(),this._renderImageValidationInfo(),this._renderCropIcon(),this._renderRemoveIcon());},_renderImageSizeInfo:function q(){if(!this.props.image)return null;var r=this.props.image,s=null,t=null;if(r.isStockImage()){if(r.hasFullSizeDimensions()){s=r.getFullSizeWidth();t=r.getFullSizeHeight();}else r.fetchFullSizeDimensions(this._receiveStockImageDetails.bind(this,r));}else{s=r.getWidth();t=r.getHeight();}return c('React').createElement(c('FBOverlayElement.react'),{horizontal:'left',vertical:'bottom'},c('React').createElement('div',{className:"_2npq"},c('React').createElement('div',{className:!s||!t?"hidden_elem":''},i._("{width} \u00d7 {height}",[i.param('width',s),i.param('height',t)]))));},_renderImageValidationInfo:function q(){var r=this._getValidationErrorMessage(this.props.imageErrors),s=this._getValidationWarningMessages(this.props.imageErrors);if(!(r||s))return null;var t=[r||s];return c('React').createElement(c('FBOverlayElement.react'),{horizontal:'left',vertical:'top'},c('React').createElement(c('AdsValidationIcon.react'),{className:this._getValidationIconClassName(),isError:!!r,messages:[t],type:this._getValidationIconType()}));},_getClassName:function q(){var r=this._getValidationErrorMessage(this.props.imageErrors),s=this._getValidationWarningMessages(this.props.imageErrors),t=this._shouldShowTextPenaltyNotice(),u="_2npo";if(this.props.isIndividualUploader&&!this.props.canUpload)u=c('joinClasses')(u,"__07");if(r){u=c('joinClasses')(u,"_5z2c");}else if(s){u=c('joinClasses')(u,t?"_2p75":"_5z2d");}else if(this.props.selected)u="__05";return u;},_getValidationIconClassName:function q(){var r=this._getValidationErrorMessage(this.props.imageErrors),s=this._getValidationWarningMessages(this.props.imageErrors),t='';if(r){t=c('joinClasses')(t,"_5z2e");}else if(s)t=c('joinClasses')(t,"_5z2f");return t;},_getValidationIconType:function q(){return c('AdsValidationIconType').ERROR_WHITE;},_getValidationWarningMessages:function q(r){var s=[],t=this._getIGErrorMessage(r,this.props.imageResolutionQE);if(t)s.push(t);if(this._shouldShowTextOverlayWarning()){s.length&&s.push('\n\n');s.push(this._getTextOverlayWarningMessages()[0]);}if(s.length!==0)return s;r=r.filter(function(u){return u.level===c('AdsError').Level.NOTIFY;});if(!r.length)return null;return r.slice(0,1);},_getIGErrorMessage:function q(r,s){var t=r.filter(function(u){return u.level===c('AdsError').Level.RECOMMEND&&c('AdsInstagramErrorUtils').isInstagramSpecificError(u);});if(t.length>0)if(c('InstagramImageResolutionExperiment').useHighResolution(s,c('AdsError').Level.RECOMMEND)){return c('AdsInstagramErrorUtils').getCombinedErrorMessageForImageExperiment(t);}else return c('AdsInstagramErrorUtils').getCombinedErrorMessage(t,c('AdsError').Level.RECOMMEND);return null;},_getValidationErrorMessage:function q(r){r=r.filter(function(u){return u.level===c('AdsError').Level.WARN;});var s=r.filter(function(u){return c('AdsInstagramErrorUtils').isInstagramSpecificError(u);}),t=!s.length?r.filter(function(u){return !c('AdsInstagramErrorUtils').isInstagramSpecificError(u);}):[];return c('AdsInstagramErrorUtils').getCombinedErrorMessage(s,c('AdsError').Level.WARN)||t.join('\n\n');},_renderProgressBox:function q(r,s){var t=c('React').createElement(c('CenteredContainer.react'),{className:"_2npt",horizontal:false,vertical:true},c('React').createElement(c('AdsXUIProgressBar.react'),{className:"_3-8u",striped:this.props.progressValue===n,value:s}),c('React').createElement('div',{className:"_2npu"},r));if(this.props.onRemove&&this.props.image)return c('React').createElement(c('AdsXoutBox.react'),{className:"_4th8",onXoutClick:this._onRemoveClick},t);return t;},_renderIndividualUploaderIcon:function q(){var r=c('React').createElement('div',{className:(this.props.canUpload?"_5uvy":'')+(!this.props.canUpload?' '+"__0c":'')}),s=null;if(this.props.isDefaultLoading){r=c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'});s=c('React').createElement('div',{className:"_5uvz"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light'},this.props.defaultLoadingPlaceholder));}else if(this.props.firstLoad){s=c('React').createElement('div',{className:"_5uvz"},i._("Upload images"));}else s=c('React').createElement('div',{className:"_5uvz"},i._("Add more images"));var t=this.props.canUpload&&!this.props.isDefaultLoading,u=t?this.props.fileInputNodeID:null,v=t?this.props.onUploadImageClick:c('emptyFunction');return c('React').createElement('label',{className:"_2npv",htmlFor:u,role:'button',onClick:v},c('React').createElement(c('CenteredContainer.react'),{className:"_2rd9",vertical:true},r,s));},_renderUploaderIcon:function q(){var r=c('React').createElement('div',{className:"_2npx"});if(this.props.uploadIcon==='image')r=c('React').createElement('div',{className:"_3l-6"});return c('React').createElement('label',{className:"_2npv",htmlFor:this.props.fileInputNodeID,role:'button',onClick:this.props.onUploadImageClick},c('React').createElement(c('CenteredContainer.react'),{className:"_2rd9",vertical:true},r));},_renderErrorBox:function q(r,s){var t=r.map(function(u,v){return c('React').createElement('div',{className:"_3-8w",key:v},c('React').createElement(c('AdsValidationIcon.react'),{className:"_2xvd",messages:[u.longMessage],type:c('AdsValidationIconType').ERROR_IMAGE}),u.shortMessage);});return c('React').createElement(c('AdsXoutBox.react'),{onXoutClick:s},c('React').createElement(c('CenteredContainer.react'),{className:"_2rd9",style:this.state.size,vertical:true},t));},_getStockErrorMessage:function q(){var r=i._("Failed to load image."),s=i._("The stock image could not be loaded. Please remove the image and try again.");return {shortMessage:r,longMessage:s};},_onRemoveClick:function q(){if(this.props.onRemove)this.props.onRemove(this.props.image);},_shouldShowTextOverlayWarning:function q(){return !!this.state.textOverlayWarning;},_shouldShowTextPenaltyNotice:function q(){return !!this.state.textOverlayWarning&&this.state.isTextPenaltyViolation;},_getTextOverlayWarningMessages:function q(){var r=null;if(this._shouldShowTextPenaltyNotice()){r=i._("{Text penalty warning}",[i.param('Text penalty warning',this.state.textOverlayWarning)]);}else r=i._("Ad images with text that takes up more than 20\u0025 of the image may not be approved. Use another image or {=learn more} about using text in ads.",[i.param('=learn more',c('React').createElement(c('Link.react'),{onClick:this._showImageTextOverlayDialog},i._("learn more")))]);return [r];}});f.exports=p;}),null);
__d('AdsVideoPanelNote.react',['cx','fbt','AdsCPBConfig','AdsNoteUtils','AdsPlatformTypes','Link.react','React','URI','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('AdsPlatformTypes').DEFAULT_PLATFORM;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$AdsVideoPanelNote3=function(){this.props.onVideoImportLinkClick(this.props.platform);}.bind(this),p;}n.prototype.$AdsVideoPanelNote1=function(){return c('React').createElement('div',{className:"_3-98"},c('React').createElement('h4',{className:"_51i_"},c('AdsNoteUtils').getSlideshowHeading()),c('React').createElement('ul',{className:"_5skp"},c('React').createElement('li',null,c('AdsNoteUtils').getSlideshowResolution()),c('React').createElement('li',null,c('AdsNoteUtils').getSlideshowAspectRatio()),c('React').createElement('li',null,c('AdsNoteUtils').getSlideshowDuration()),c('React').createElement('li',null,c('AdsNoteUtils').getSlideshowLooping())));};n.prototype.$AdsVideoPanelNote2=function(){return c('React').createElement('div',{className:"_2pie"},c('React').createElement('h4',{className:"_51i_"},i._("Paste a Video File Link")),i._("You can upload a video faster by pasting the link of a hosted video file."),c('React').createElement('br',null),c('React').createElement(c('Link.react'),{onClick:this.$AdsVideoPanelNote3},i._("Learn more")));};n.prototype.$AdsVideoPanelNote4=function(){return c('React').createElement('div',null,c('React').createElement('div',null,c('React').createElement('h4',{className:"_51i_"},c('AdsNoteUtils').getVideoHeading()),c('React').createElement('ul',{className:"_5skp"},c('React').createElement('li',null,c('AdsNoteUtils').getVideoFormat(this.props.allowGIFFiles)),c('React').createElement('li',null,c('AdsNoteUtils').getVideoResolution()),c('React').createElement('li',null,c('AdsNoteUtils').getVideoSize()),c('React').createElement('li',null,this.$AdsVideoPanelNote5()),this.$AdsVideoPanelNote6(),this.$AdsVideoPanelNote7(),this.$AdsVideoPanelNote8())),this.$AdsVideoPanelNote2());};n.prototype.$AdsVideoPanelNote9=function(){return this.props.isSlideshowSelected?this.$AdsVideoPanelNote1():this.$AdsVideoPanelNote4();};n.prototype.$AdsVideoPanelNote10=function(){return this.props.isSlideshowSelected?c('React').createElement('div',{className:"_51j0"},i._("Learn more about {=Ad Guidelines}.",[i.param('=Ad Guidelines',c('React').createElement(c('Link.react'),{href:new (c('URI'))('/help/503502689826117/'),target:'_blank'},i._("how to create a slideshow")))])):c('React').createElement('div',{className:"_51j0"},i._("For questions and more information, see the Facebook {=Ad Guidelines}.",[i.param('=Ad Guidelines',c('React').createElement(c('Link.react'),{href:new (c('URI'))('/help/830194837058589/'),target:'_blank'},i._("Ad Guidelines")))]));};n.prototype.$AdsVideoPanelNote5=function(){if(c('AdsCPBConfig').isCPBFBDealsUser)return c('AdsNoteUtils').getVideoAspectRatio();if(this.props.hasInstagramStoriesPlacement)return c('AdsNoteUtils').getVideoAspectRatioForInstagramStories();if(!this.props.hasFacebookPlacement)return c('AdsNoteUtils').getVideoAspectRatioForInstagramFeed();return c('AdsNoteUtils').getVideoAspectRatio();};n.prototype.$AdsVideoPanelNote6=function(){if(!this.props.hasFacebookPlacement)return null;return c('React').createElement('li',null,c('AdsNoteUtils').getVideoLengthAndSizeForFacebook());};n.prototype.$AdsVideoPanelNote8=function(){if(this.props.hasInstagramStoriesPlacement)return c('React').createElement('li',null,c('AdsNoteUtils').getVideoLengthAndSizeForInstagramStories());if(this.props.hasInstagramPlacement)return c('React').createElement('li',null,c('AdsNoteUtils').getVideoLengthAndSizeForInstagramFeed());return null;};n.prototype.$AdsVideoPanelNote7=function(){if(!this.props.hasInstreamVideoPlacement)return null;return c('React').createElement('li',null,c('AdsNoteUtils').getVideoLengthAndSizeForInstreamVideo());};n.prototype.render=function(){return c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_51ip"+(this.props.isCompact?' '+"_51ix":'')+(!this.props.isCompact?' '+"_51i-":''))}),this.$AdsVideoPanelNote9(),this.$AdsVideoPanelNote10());};n.propTypes={allowGIFFiles:l.bool.isRequired,hasFacebookPlacement:l.bool.isRequired,hasInstagramPlacement:l.bool.isRequired,hasInstagramStoriesPlacement:l.bool.isRequired,hasInstreamVideoPlacement:l.bool,isCompact:l.bool.isRequired,isSlideshowSelected:l.bool.isRequired,platform:l.string.isRequired,onVideoImportLinkClick:l.func.isRequired};n.defaultProps={hasInstagramPlacement:false,hasInstagramStoriesPlacement:false,hasInstreamVideoPlacement:false,isCompact:false,isSlideshowSelected:false,platform:m,onVideoImportLinkClick:function o(p){}};f.exports=n;}),null);
__d('AdsCFImageViewActions',['AdsCFActionTypes','AdsTypedDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h={cancelImageDialog:function i(j){c('AdsTypedDispatcher').handleUpdateFromViewAction({imageList:j,type:c('AdsCFActionTypes').IMAGE_DIALOG_CANCEL});},confirmImageDialog:function i(j){c('AdsTypedDispatcher').handleUpdateFromViewAction({imageList:j,type:c('AdsCFActionTypes').IMAGE_DIALOG_CONFIRMED});}};f.exports=h;}),null);
__d('AdsCFVideoViewActions',['AdsCFActionTypes','AdsTypedDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h={confirmVideoDialog:function i(j){c('AdsTypedDispatcher').handleUpdateFromViewAction({videoErrors:j,type:c('AdsCFActionTypes').VIDEO_DIALOG_CONFIRMED});}};f.exports=h;}),null);
__d('AdsCFImageLibraryDialogMixins',['cx','fbt','AdsImageCollection','AdsImageLegacy','AdsMediaPanel.react','AdsMediaPanelTabs','AdsWebdriverIDs','BUIAdoptionCloseButton.react','LeftRight.react','React','ReactLayeredComponentMixin_DEPRECATED','XUIDialog.react','XUIDialogButton.react','XUIDialogCancelButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k={propTypes:{accountID:j.string.isRequired,buyingType:j.string,buttonStyle:j.oneOf(['select_cancel','done']),defaultStockSearchText:j.string,dialogHandlers:j.shape({onShow:j.func,onConfirm:j.func,onCancel:j.func}),igSpecificImageSpec:j.object,imageCollection:j.instanceOf(c('AdsImageCollection')).isRequired,imageSpec:j.object,selectedImageList:j.array.isRequired,tabKeys:j.arrayOf(j.string).isRequired,userImagesLoaded:j.bool,validateImageFormat:j.bool,validateImageSize:j.bool},getDefaultProps:function m(){return {buttonStyle:'select_cancel',userImagesLoaded:true,dialogHandlers:{},uploadHandlers:{}};},getInitialState:function m(){return {dialogShown:false,initialSelectedTab:c('AdsMediaPanelTabs').LIBRARY};},showDialogLibraryTab:function m(){this._showDialog(c('AdsMediaPanelTabs').LIBRARY);},showDialogStockImagesTab:function m(){this._showDialog(c('AdsMediaPanelTabs').STOCK);},_showDialog:function m(n){var o=null;if(!this.state.dialogShown){o=o||{};o.dialogShown=true;this.props.dialogHandlers.onShow&&this.props.dialogHandlers.onShow(n);}if(this.state.initialSelectedTab!==n){o=o||{};o.initialSelectedTab=n;}if(o)this.setState(o);},_onClose:function m(){this.setState({dialogShown:false});this.props.dialogHandlers.onCancel();},_onToggle:function m(n){if(!n)setTimeout(function(){return this._onClose();}.bind(this),0);},renderLayers:function m(){if(!this.state.dialogShown)return {};return {dialog:c('React').createElement(c('XUIDialog.react'),{shown:this.state.dialogShown,width:768,onToggle:this._onToggle},c('React').createElement('div',{className:'clearfix'},c('React').createElement(c('LeftRight.react'),{className:"_5j9d"},i._("Select Images"),c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_5j9e layerCancel",size:'large'})),this._renderDialogContent(),this._renderDialogFooter()))};},_renderDialogContent:function m(){var n=this.props.buyingType?[this.props.buyingType]:undefined;if(!this.props.imageSpec)return c('React').createElement(c('AdsMediaPanel.react'),babelHelpers['extends']({},this.props,{buyingTypes:n,initialSelectedTab:this.state.initialSelectedTab,ref:'content'}));return c('React').createElement(c('AdsMediaPanel.react'),babelHelpers['extends']({},this.props,{buyingTypes:n,disableTooSmallImages:true,imageSpec:this.props.imageSpec,initialSelectedTab:this.state.initialSelectedTab,ref:'content'}));},_confirmButtonClicked:function m(){this.hideDialog();this.props.dialogHandlers.onConfirm();},_renderDialogFooter:function m(){var n=null,o=null,p=false;if(this.props.buttonStyle==='select_cancel'){n=c('React').createElement(c('XUIDialogCancelButton.react'),{className:"_5j9h",onClick:this.props.dialogHandlers.onCancel});o=i._("Select");p=!this.props.imageCollection.hasSelectedImages();}else o=i._("Done");return c('React').createElement('div',{className:"_5j9g rfloat"},n,c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',className:"_5j9h",'data-testid':c('AdsWebdriverIDs').IMAGE_DIALOG_CLOSE_BUTTON,disabled:p,label:o,use:'confirm',onClick:this._confirmButtonClicked}));},hideDialog:function m(){this.setState({dialogShown:false});},scrollToImage:function m(n){this.refs.content.scrollToImage(n);}},l=[k,c('ReactLayeredComponentMixin_DEPRECATED')];f.exports=l;}),null);
__d('AdsCFCreativeImagePanelLibraryActions.react',['fbt','ix','AdsCFCreativeImagePanelAction.react','AdsCFImageLibraryDialogMixins','AdsCFWebdriverIDs','AdsMediaPanelTabs','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'AdsCFCreativeImagePanelLibraryActions',mixins:c('AdsCFImageLibraryDialogMixins'),propTypes:{actionStyle:j.oneOf(['buttonGroup','singleLink']),buttonName:j.node.isRequired,maxSelectedImages:j.number.isRequired},getDefaultProps:function l(){return {actionStyle:'buttonGroup',buttonName:h._("Browse Library")};},render:function l(){if(this.props.actionStyle==='singleLink')return c('React').createElement('span',null,this._renderLibraryAction('link'));return c('React').createElement('div',null,this._renderLibraryAction('button'),this._renderStockImagesAction('button'));},_renderLibraryAction:function l(m){return c('React').createElement(c('AdsCFCreativeImagePanelAction.react'),{actionStyle:m,'aria-label':h._("Access a library that contains all your ad images."),'data-testid':c('AdsCFWebdriverIDs').BROWSE_IMAGE_LIBRARY_BUTTON,iconSrc:i("22266"),label:this.props.buttonName,onClick:this.showDialogLibraryTab});},_renderStockImagesAction:function l(m){if(this.props.tabKeys.indexOf(c('AdsMediaPanelTabs').STOCK)===-1)return null;var n=void 0,o=h._("Free Stock Images");if(this.props.maxSelectedImages===1){n=h._("Use a professional image from {=Shutterstock} in your ads at no extra cost.",[h.param('=Shutterstock','Shutterstock')]);}else n=h._("Use professional images from {=Shutterstock} in your ads at no extra cost.",[h.param('=Shutterstock','Shutterstock')]);return c('React').createElement(c('AdsCFCreativeImagePanelAction.react'),{actionStyle:m,'aria-label':n,iconSrc:i("22267"),label:o,onClick:this.showDialogStockImagesTab});}});f.exports=k;}),null);
__d('AdsCFBudgetRecommendation',[],(function a(b,c,d,e,f,g){'use strict';var h=[{adgroupLimit:4,recommendedBudget:100},{adgroupLimit:5,recommendedBudget:500},{adgroupLimit:8,recommendedBudget:1000},{adgroupLimit:10,recommendedBudget:2000},{adgroupLimit:15,recommendedBudget:3000},{adgroupLimit:20,recommendedBudget:4000},{adgroupLimit:25,recommendedBudget:5000},{adgroupLimit:30,recommendedBudget:6000},{adgroupLimit:35,recommendedBudget:7000},{adgroupLimit:40,recommendedBudget:8000},{adgroupLimit:45,recommendedBudget:9000},{adgroupLimit:50,recommendedBudget:10000}];f.exports=h;}),null);
__d('AdsCFBudgetRecommendationUtils',['AdsCampaignUtils','AdsCFBudgetRecommendation'],(function a(b,c,d,e,f,g){'use strict';var h={getRecommendedDailyBudget:function i(j,k){var l=c('AdsCFBudgetRecommendation')[c('AdsCFBudgetRecommendation').length-1].adgroupLimit,m=c('AdsCFBudgetRecommendation')[c('AdsCFBudgetRecommendation').length-1].recommendedBudget;if(j>l)return c('AdsCampaignUtils').convertUSDBudgetToCurrency(k,m);var n=Math.min.apply(null,c('AdsCFBudgetRecommendation').filter(function(o){return o.adgroupLimit>=j;}).map(function(o){return o.recommendedBudget;}));return c('AdsCampaignUtils').convertUSDBudgetToCurrency(k,n);},getRecommendedLifetimeBudget:function i(j,k,l,m){var n=h.getRecommendedDailyBudget(j,k),o=c('AdsCampaignUtils').getCampaignDayCount(l,m);return Math.round(n*o/100)*100;}};f.exports=h;}),null);
__d('AYMTSingleImageGifUploadUpsellNuxRenderer',['cx','fbt','AdsGuidanceBaseNuxRenderer','AdsGuidanceChannelObject','AdsGuidanceInlineNux.react','immutable','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AdsGuidanceChannelObject').NuxData,m=c('AdsGuidanceChannelObject').ChannelData;j=babelHelpers.inherits(n,c('AdsGuidanceBaseNuxRenderer'));k=j&&j.prototype;n.prototype.getIDs=function(){return c('immutable').Set(['aymt_single_image_gif_upload_upsell_nux']);};n.prototype.canRender=function(o,p,q){return true;};n.prototype.getElement=function(o,p,q,r,s){return c('React').createElement('div',{className:"_3-8v _3-98"},c('React').createElement(c('AdsGuidanceInlineNux.react'),{title:i._("Use \"Single Video\" Format For Animated GIFs"),onClose:r},i._("If you want your GIF to show in full, choose \"Single Video\" as your format and upload it again."),c('React').createElement('br',null),i._("Right now, the GIF will show as a single image instead.")));};function n(){j.apply(this,arguments);}f.exports=n;}),null);
__d('AdsCFAdgroupCarouselNUXRenderer',['cx','fbt','AdsGuidanceBaseNuxRenderer','AdsGuidanceChannelObject','AdsGuidanceInlineNux.react','immutable','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AdsGuidanceChannelObject').NuxData,m=c('AdsGuidanceChannelObject').ChannelData;j=babelHelpers.inherits(n,c('AdsGuidanceBaseNuxRenderer'));k=j&&j.prototype;n.prototype.getIDs=function(){return c('immutable').Set(['aymt_cf_carousel_multi_img_nux']);};n.prototype.canRender=function(o,p,q){return true;};n.prototype.getElement=function(o,p,q,r){return c('React').createElement('div',{className:"_3-8v _3-98"},c('React').createElement(c('AdsGuidanceInlineNux.react'),{title:i._("Use the Carousel Format for Multiple Images"),onClose:r},i._("It looks like you're uploading multiple images. You can create a carousel format to show up to 10 images in a single ad at no additional cost. To get started, choose \"Multiple images in one ad\" for your format.")));};function n(){j.apply(this,arguments);}f.exports=n;}),null);
__d('AdsCFImageSpecRecommendationNote.react',['cx','fbt','AdImageSpecsUtils','AdsTextOverlayRecommendationNote.react','AdsNoteUtils','BUIAdoptionXUIGrayText.react','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsCFImageSpecRecommendationNote1=function(){return c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_4j35",display:'block',shade:'light',size:'medium',weight:'bold'},c('AdsNoteUtils').getImageSpecsHeading());},this.$AdsCFImageSpecRecommendationNote4=function(){return c('React').createElement('li',{className:"_4j36"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small'},c('React').createElement(c('AdsTextOverlayRecommendationNote.react'),{showPenaltyMessage:this.props.shouldShowTextPenaltyMessage})));}.bind(this),this.$AdsCFImageSpecRecommendationNote2=function(){if(!this.props.imageSpecs.length)return null;var s=c('AdImageSpecsUtils').getLeastStringentImageSpec(this.props.imageSpecs);return c('React').createElement('li',{className:"_4j36"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small'},i._("Recommended image size: {width x height}",[i.param('width x height',c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_4j37",display:'block',shade:'medium',size:'small',weight:'bold'},c('AdsNoteUtils').getImageSpecs(s)))])));}.bind(this),o;}m.prototype.render=function(){return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_4j33")},this.$AdsCFImageSpecRecommendationNote1(),c('React').createElement('ul',{className:"_4j34"},this.$AdsCFImageSpecRecommendationNote2(),this.$AdsCFImageSpecRecommendationNote3(),this.$AdsCFImageSpecRecommendationNote4()));};m.prototype.$AdsCFImageSpecRecommendationNote3=function(){if(!this.props.imageSpecs.length)return null;var n=c('AdImageSpecsUtils').getLeastStringentImageSpec(this.props.imageSpecs);return c('React').createElement('li',{className:"_4j36"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small'},i._("Image ratio: {Image ratio}",[i.param('Image ratio',c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'small',weight:'bold'},n.displayRatio))])));};m.propTypes={imageSpecs:l.arrayOf(l.object.isRequired).isRequired,shouldShowTextPenaltyMessage:l.bool};f.exports=m;}),null);
__d('AdsCFCreativeMultipleImagesSelector.react',['cx','fbt','invariant','AdImageSpecs','AdsAPIObjectives','AdsArrowedCarouselEnhanced.react','AdsCFAdgroupCarouselNUXRenderer','AdsCFConstants','AdsCFCreativeViewActions','AdsCFImageSpecRecommendationNote.react','AdsCurrencyFormatter','AdsError','AdsErrorUtils','AdsGuidanceStandaloneNuxContainer.react','AdsImageCollection','AdsImageCropperIconContainer.react','AdsImageLegacy','AdsImagePanelItem.react','AdsInstagramAvailability','AdsInstagramErrorUtils','AdsInstagramLoggingActions','AdsInstagramNoticeSource','AdsPageTypes','AYMTSingleImageGifUploadUpsellNuxRenderer','BUIAdoptionUtils','BUIAdoptionXUINotice.react','BUIAdoptionXUISpinner.react','BUIAdoptionXUIText.react','Layout.react','Link.react','LoadObject','InstagramImageResolutionExperiment','MultiImageSelectorConstants','React','ShimButton.react','emptyFunction','getByPath','nullthrows','setByPath'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m,n,o=c('AdsCFConstants').CampaignBudgetModes,p=c('Layout.react').Column,q=c('Layout.react').FillColumn,r=c('React').PropTypes,s='AYMTAdsCreationChannel',t='aymt_cf_carousel_multi_img_nux',u='aymt_single_image_gif_upload_upsell_nux',v=100,w=function z(aa){if((aa.objective===c('AdsAPIObjectives').LINK_CLICKS||aa.objective===c('AdsAPIObjectives').CONVERSIONS)&&aa.isCarouselFormatEligible&&aa.selectedImagesNum>1&&!aa.isCollectionFormatSelected)return c('React').createElement(c('AdsGuidanceStandaloneNuxContainer.react'),{accountID:aa.accountID,channelName:s,nuxName:t,renderer:new (c('AdsCFAdgroupCarouselNUXRenderer'))({})});return null;};k=babelHelpers.inherits(x,c('React').PureComponent);l=k&&k.prototype;x.prototype.componentDidMount=function(){c('AdsInstagramLoggingActions').logNoticeMount(c('AdsInstagramNoticeSource').IMAGE,this.props.level);};x.prototype.render=function(){return c('React').createElement('div',{className:"_3v22"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:c('BUIAdoptionUtils').convertUseToType(this.props.level)},this.props.children));};function x(){k.apply(this,arguments);}m=babelHelpers.inherits(y,c('React').PureComponent);n=m&&m.prototype;function y(){var z,aa;for(var ba=arguments.length,ca=Array(ba),da=0;da<ba;da++)ca[da]=arguments[da];return aa=(z=n.constructor).call.apply(z,[this].concat(ca)),this.$AdsCFCreativeMultipleImagesSelector8=function(ea){if(this.props.disableCropping)return null;return function(fa){return c('React').createElement(c('AdsImageCropperIconContainer.react'),{accountID:this.props.accountID,cropIcon:fa,disabledSpecs:this.props.disabledSpecs,image:ea,imageCollection:this.props.imageCollection,imageSpecs:this.props.imageSpecs,selectedPlacement:c('AdsPageTypes').INSTAGRAM_STREAM,onConfirmCropping:this.props.onConfirmCropping});}.bind(this);}.bind(this),this.$AdsCFCreativeMultipleImagesSelector9=function(ea){if(!this.props.onImageRemove)return c('emptyFunction');return function(){this.props.onImageRemove(ea);}.bind(this);}.bind(this),this.$AdsCFCreativeMultipleImagesSelector3=function(){if(!this.props.selectedImages.length&&!this.props.uploadErrors.length&&!this.props.uploadingCount)return null;return c('React').createElement('div',{className:"_1mwv"},c('React').createElement(c('AdsArrowedCarouselEnhanced.react'),{currentSelectedIndex:this.props.currentSelectedImageIndex,currentSelectedShouldVisible:true,maxChangeAmount:3},this.$AdsCFCreativeMultipleImagesSelector10(this.props.selectedImages)));}.bind(this),this.$AdsCFCreativeMultipleImagesSelector10=function(ea){var fa='small',ga=[],ha=this.props.maxImagesLength;ea.length<=ha||j(0);var ia=0,ja=null;while(ea[ia]&&ia<ha){ja=this.$AdsCFCreativeMultipleImagesSelector11(ea[ia],this.props.imagesErrors[ia],fa,this.props.currentSelectedImageIndex===ia);ga.push(this.$AdsCFCreativeMultipleImagesSelector12(ja,ia));ia++;}var ka=this.props.uploadingCount;while(ka>0&&ga.length<ha){ja=this.$AdsCFCreativeMultipleImagesSelector13(v,fa,this.props.currentSelectedImageIndex===ia);ga.push(this.$AdsCFCreativeMultipleImagesSelector12(ja,ia++));ka--;}if(this.props.uploadErrors.length>0&&ga.length<ha){ja=this.$AdsCFCreativeMultipleImagesSelector14(this.props.uploadErrors,fa,this.props.currentSelectedImageIndex===ia);ga.push(this.$AdsCFCreativeMultipleImagesSelector12(ja,ia++));}return ga;}.bind(this),this.$AdsCFCreativeMultipleImagesSelector14=function(ea,fa,ga){return c('React').createElement(c('AdsImagePanelItem.react'),{selected:ga,size:fa,uploadErrors:ea});},this.$AdsCFCreativeMultipleImagesSelector13=function(ea,fa,ga){return c('React').createElement(c('AdsImagePanelItem.react'),{progressValue:ea,selected:ga,size:fa});},this.$AdsCFCreativeMultipleImagesSelector12=function(ea,fa){return c('React').createElement(c('ShimButton.react'),{className:"_1mww",key:'image-'+fa,onClick:function(){this.props.onImageClick(fa);}.bind(this)},ea);}.bind(this),this.$AdsCFCreativeMultipleImagesSelector2=function(){var ea=this.props.maxImagesLength>this.props.selectedImages.length;return c('React').createElement('div',{className:"_1mwy"},c('React').createElement(c('AdsImagePanelItem.react'),{canUpload:ea,defaultLoadingPlaceholder:this.props.defaultLoadingPlaceholder,fileInputNodeID:this.props.fileInputNodeID,firstLoad:this.props.selectedImages.length===0,imageSpecs:this.props.imageSpecs,isDefaultLoading:this.props.isDefaultLoading,isIndividualUploader:true,size:'small',uploadIcon:'plusCircle',onUploadImageClick:this.props.onUploadImageClick}));}.bind(this),aa;}y.prototype.render=function(){if(this.props.imageResolutionQE.isLoading())return c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'});return c('React').createElement(c('Layout.react'),null,c('React').createElement(q,{className:"_3v20"},this.$AdsCFCreativeMultipleImagesSelector1(),c('React').createElement('div',{className:"_1mwc"},c('React').createElement('div',{className:"_1mwd"},this.props.libraryImagesButtons),c('React').createElement('div',{className:"_1mwe"},this.props.uploaderButton)),c('React').createElement('div',{className:"_1mwf"},c('React').createElement(c('Layout.react'),null,c('React').createElement(p,null,this.$AdsCFCreativeMultipleImagesSelector2()),c('React').createElement(q,null,this.$AdsCFCreativeMultipleImagesSelector3()))),c('React').createElement(w,{accountID:this.props.accountID,isCarouselFormatEligible:this.props.isCarouselFormatEligible,isCollectionFormatSelected:this.props.isCollectionFormatSelected,objective:this.props.objective,selectedImagesNum:this.props.selectedImages.length}),this.$AdsCFCreativeMultipleImagesSelector4(),this.$AdsCFCreativeMultipleImagesSelector5()),c('React').createElement(p,null,c('React').createElement('div',{className:"_3v21"},c('React').createElement(c('AdsCFImageSpecRecommendationNote.react'),{imageSpecs:this.props.imageSpecs,shouldShowTextPenaltyMessage:this.props.shouldShowTextPenaltyMessage}))));};y.prototype.$AdsCFCreativeMultipleImagesSelector4=function(){if(this.props.selectedImages.length>0&&this.props.gifUploadedFromImage)return c('React').createElement(c('AdsGuidanceStandaloneNuxContainer.react'),{accountID:this.props.accountID,channelName:s,nuxName:u,renderer:new (c('AYMTSingleImageGifUploadUpsellNuxRenderer'))({})});return null;};y.prototype.$AdsCFCreativeMultipleImagesSelector5=function(){if(!c('AdsInstagramAvailability').supportsObjective(this.props.objective,this.props.accountCapabilities))return null;var z=c('AdsErrorUtils').getMostSeriousLevel(this.props.imagesErrors.map(function(da){return c('AdsErrorUtils').getLevelForErrors(da);})),aa=this.props.selectedImages.map(function(da,ea){var fa=this.$AdsCFCreativeMultipleImagesSelector6(da,ea,z);if(fa)return c('React').createElement('li',{className:"_59vw",key:'error_'+da.getUniqueIdentifier()},fa);return null;}.bind(this)).filter(function(da){return !!da;});if(!aa.length)return null;var ba=void 0;if(z===c('AdsError').Level.RECOMMEND){if(c('InstagramImageResolutionExperiment').useHighResolution(this.props.imageResolutionQE.getValue())){ba=c('React').createElement(c('BUIAdoptionXUIText.react'),{weight:'bold'},i._("Your Image's Resolution is Low"));}else ba=c('React').createElement(c('BUIAdoptionXUIText.react'),{weight:'bold'},i._({"*":{"image":"{count} image can't be used on Instagram:","images":"{count} images can't be used on Instagram:"}},[i.param('count',aa.length,[0]),i['enum'](aa.length===1?'image':'images',{image:'image',images:'images'})]));}else ba=c('React').createElement(c('BUIAdoptionXUIText.react'),{weight:'bold'},i._({"*":{"image needs":"{count} image needs your attention:","images need":"{count} images need your attention:"}},[i.param('count',aa.length,[0]),i['enum'](aa.length===1?'image needs':'images need',{'image needs':'image needs','images need':'images need'})]));var ca=c('React').createElement('ul',{className:"_24xl"},aa);return c('React').createElement(x,{level:z},ba,ca);};y.prototype.$AdsCFCreativeMultipleImagesSelector6=function(z,aa,ba){if(ba===c('AdsError').Level.RECOMMEND&&this.props.hideSoftErrorNotice)return null;var ca=c('nullthrows')(this.props.imagesErrors[aa]);return this.$AdsCFCreativeMultipleImagesSelector7(z,ca,ba,aa);};y.prototype.$AdsCFCreativeMultipleImagesSelector7=function(z,aa,ba,ca){aa=c('AdsErrorUtils').getAllErrorsAtLevel(aa,ba);if(!aa.length)return null;var da=c('InstagramImageResolutionExperiment').useHighResolution(this.props.imageResolutionQE.getValue(),ba),ea=da?null:c('AdsInstagramErrorUtils').getImageErrorsTitle(aa),fa=da?c('React').createElement(c('BUIAdoptionXUIText.react'),{weight:'bold'},i._("Image {index}:",[i.param('index',ca+1)])):null,ga=c('AdsInstagramErrorUtils').getImageErrorsBody(aa),ha=this.$AdsCFCreativeMultipleImagesSelector8(z),ia=this.$AdsCFCreativeMultipleImagesSelector9(z),ja=this.props.onMakeChangeImageLink,ka=function(){delete z.crops[c('AdImageSpecs').INSTAGRAM_STREAM.cropKey];if(c('getByPath')(z,['platformLegacyImages','instagram','crops']))c('setByPath')(z,['platformLegacyImages','instagram','crops'],{});c('AdsCFCreativeViewActions').updateImageCrops(z,z.getCrops(),this.props.objective,[c('AdsPageTypes').INSTAGRAM_STREAM]);}.bind(this),la=c('AdsInstagramErrorUtils').getImageErrorSuggestion({changeImageLinkMaker:ja,cropLinkMaker:ha,removeImage:ia,resetCrop:ka},aa,false,ba,this.props.imageResolutionQE.getValue());if(ga.length===1)return i._("{image index}{image error notice title} {image error content} {image error suggestion}",[i.param('image index',fa),i.param('image error notice title',ea),i.param('image error content',ga[0]),i.param('image error suggestion',la)]);if(ga.length===2)return i._("{image errors notice title} {first image error content} {second image error content} {image errors suggestion}",[i.param('image errors notice title',ea),i.param('first image error content',ga[0]),i.param('second image error content',ga[1]),i.param('image errors suggestion',la)]);return null;};y.prototype.$AdsCFCreativeMultipleImagesSelector1=function(){var z=i._("Images"),aa=c('React').createElement('div',{className:"_42-3"},c('React').createElement('div',{className:"_1mwi"},c('React').createElement('div',{className:"_1mwj"},i._({"*":"You can create up to {max_number_of_images} ads at once by uploading multiple images."},[i.param('max_number_of_images',this.props.maxImagesLength,[0])]),' ',c('React').createElement(c('Link.react'),{className:"_1mwk",href:'/business/ads-guide',target:'_blank'},i._("Learn more")),'.')));return c('React').createElement('div',{className:"_1mws"},c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block',size:'medium',weight:'bold'},z),aa);};y.prototype.$AdsCFCreativeMultipleImagesSelector11=function(z,aa,ba,ca){return c('React').createElement(c('AdsImagePanelItem.react'),{accountID:this.props.accountID,disableCropping:this.props.disableCropping,disabledSpecs:this.props.disabledSpecs,image:z,imageCollection:this.props.imageCollection,imageErrors:aa,imageResolutionQE:this.props.imageResolutionQE.getValue(),imageSpecs:this.props.imageSpecs,selected:ca,size:ba,onConfirmCropping:this.props.onConfirmCropping,onRemove:this.props.onImageRemove});};y.propTypes={accountCapabilities:r.arrayOf(r.string),accountID:r.string.isRequired,currentSelectedImageIndex:r.number.isRequired,defaultLoadingPlaceholder:r.node,disableCropping:r.bool.isRequired,disabledSpecs:r.arrayOf(r.object),fileInputNodeID:r.string.isRequired,gifUploadedFromImage:r.bool,hideSoftErrorNotice:r.bool.isRequired,imageCollection:r.instanceOf(c('AdsImageCollection')),imageResolutionQE:r.instanceOf(c('LoadObject')).isRequired,imageSpecs:r.arrayOf(r.object).isRequired,imagesErrors:r.arrayOf(r.arrayOf(r.instanceOf(c('AdsError')))).isRequired,imagesOverlayBoxes:r.arrayOf(r.arrayOf(r.bool)).isRequired,isCarouselFormatEligible:r.bool,isCollectionFormatSelected:r.bool,isDefaultLoading:r.bool,libraryImagesButtons:r.element.isRequired,maxImagesLength:r.number.isRequired,objective:r.string.isRequired,selectedImages:r.arrayOf(r.instanceOf(c('AdsImageLegacy'))).isRequired,shouldRenderRemoveInstagramLink:r.bool.isRequired,shouldShowTextPenaltyMessage:r.bool.isRequired,suppressValidationError:r.bool,uploadErrors:r.arrayOf(r.object).isRequired,uploaderButton:r.element.isRequired,uploadingCount:r.number.isRequired,onConfirmCropping:r.func.isRequired,onImageClick:r.func.isRequired,onImageRemove:r.func.isRequired,onMakeChangeImageLink:r.func.isRequired,onUploadImageClick:r.func.isRequired};y.defaultProps={gifUploadedFromImage:false,hideSoftErrorNotice:false};f.exports=y;}),null);
__d('AdsCFCreativeMultipleImagesSelectorContainer.react',['AdsAccountCapabilities','AdsAccountUtils','AdsAdgroupCreativePluginResolver','AdsAdgroupPreviewsV2Actions','AdsAdgroupSpecPathPluginResolver','AdsAPIAdAccountFields','AdsAPIAdCampaignFields','AdsAPIAdgroupRecordUtils','AdsBlockListAccountListStore','AdsCampaignUtils','AdsAccountStore','AdsCFActiveCampaignIDStore','AdsCFAdgroupCreativePluginResolver','AdsCFAdgroupIDUtils','AdsCFAdgroupStateUtils','AdsCFAdgroupStore','AdsCFAdgroupValidationStore','AdsCFBudgetRecommendationUtils','adsCFActiveCampaignGroupSelector','AdsCFCampaignStateUtils','AdsCFCampaignStore','AdsCFCampaignStoreUtils','AdsCFConstants','AdsCFCreativeMultipleImagesSelector.react','AdsCFDefaultingUtils','AdsCFEligibilityInfoStore','AdsCFMediaStore','AdsCFPageDestinationDataStore','AdsCFPivotsSelectors','AdsCFReviewAPIStore','adsCFSelectedObjectiveSelector','AdsCFWebsiteDestinationDataStore','AdsFluxContainer','AdsInstagramErrorUtils','AdsMediaFormat','AdsQEStore','LoadObject','React','adsAdgroupPreviewsV2CurrentIndexSelector','adsCFActiveCampaignSelector','adsCFCurrentAccountSelector'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('AdsCFConstants').CampaignBudgetModes,k=c('React').Component;h=babelHelpers.inherits(l,k);i=h&&h.prototype;l.getStores=function(){return [].concat(c('adsAdgroupPreviewsV2CurrentIndexSelector').getStores(),c('adsCFActiveCampaignSelector').getStores(),c('adsCFCurrentAccountSelector').getStores(),c('AdsCFPivotsSelectors').adgroupSpecPath.getStores(),c('AdsCFPivotsSelectors').adgroupCreative.getStores(),c('adsCFActiveCampaignGroupSelector').getStores(),c('adsCFSelectedObjectiveSelector').getStores(),[c('AdsBlockListAccountListStore'),c('AdsAccountStore'),c('AdsCFActiveCampaignIDStore'),c('AdsCFActiveCampaignIDStore'),c('AdsCFAdgroupStore'),c('AdsCFAdgroupValidationStore'),c('AdsCFCampaignStore'),c('AdsCFEligibilityInfoStore'),c('AdsCFMediaStore'),c('AdsCFPageDestinationDataStore'),c('AdsCFReviewAPIStore'),c('AdsCFWebsiteDestinationDataStore'),c('AdsQEStore')]);};l.calculateState=function(o,p){var q=c('AdsAccountStore').getSelectedAccount(),r=c('adsCFActiveCampaignGroupSelector')(),s=c('AdsCFCampaignStateUtils').getFirstSelectedRecord(c('AdsCFCampaignStore').getState(),c('AdsCFActiveCampaignIDStore').getState()),t=c('adsCFSelectedObjectiveSelector')(),u=c('adsAdgroupPreviewsV2CurrentIndexSelector')(),v=c('AdsCFAdgroupStateUtils').getAdgroupRecordByIndex(c('AdsCFAdgroupStore').getState()),w=c('AdsCFAdgroupCreativePluginResolver').resolve(c('AdsCFPivotsSelectors').adgroupCreative()),x=q[c('AdsAPIAdAccountFields').ACCOUNT_ID],y=!p.selectedImages.length?c('AdsCFDefaultingUtils').getDefaultData({websiteDataStore:c('AdsCFWebsiteDestinationDataStore'),pageDataStore:c('AdsCFPageDestinationDataStore')},{adgroup:v,campaign:s},w,c('AdsAdgroupSpecPathPluginResolver').resolve(c('AdsCFPivotsSelectors').adgroupSpecPath())):c('LoadObject').empty(),z=false,aa=void 0;if(y.isLoading()){z=true;aa=w.getDefaultImageLoadingPlaceholder();}var ba=l.$AdsCFCreativeMultipleImagesSelectorContainer1(p.selectedImages.length,t),ca=true,da=q[c('AdsAPIAdAccountFields').CAPABILITIES],ea=c('AdsCFEligibilityInfoStore').get(),fa=c('AdsQEStore').getForCurrentUser('ads_increase_fb_image_resolution'),ga=c('AdsAdgroupSpecPathPluginResolver').resolve(c('AdsCFPivotsSelectors').adgroupSpecPath()),ha=c('AdsAPIAdgroupRecordUtils').isCollectionsAd(v,ga),ia=c('AdsAdgroupCreativePluginResolver').resolve(c('AdsCFPivotsSelectors').adgroupCreative()).getSupportedMediaFormats(c('adsCFCurrentAccountSelector')(),v,c('adsCFActiveCampaignSelector')()).has(c('AdsMediaFormat').CAROUSEL);return {accountBlockLists:c('AdsBlockListAccountListStore').get(c('AdsAccountStore').getSelectedAccountIDX()).getValue()||[],accountCapabilities:da,accountID:x,account:q,campaign:s,campaignGroupObject:r,currentSelectedImageIndex:u,defaultLoadingPlaceholder:aa,eligibilityInfo:ea,gifUploadedFromImage:c('AdsCFMediaStore').getGifUploadedFromImage(),imageResolutionQE:fa,imagesErrors:ba,imagesOverlayBoxes:n(p.selectedImages),isCarouselFormatEligible:ia,isCollectionFormatSelected:ha,isDefaultLoading:z,objective:t,shouldRenderRemoveInstagramLink:c('AdsCFCampaignStoreUtils').canRemoveInstagramPlacement(),shouldShowTextPenaltyMessage:ca};};l.$AdsCFCreativeMultipleImagesSelectorContainer1=function(o,p){var q=[];for(var r=0;r<o;r+=1){var s=c('AdsCFAdgroupIDUtils').getID(r),t=c('AdsCFAdgroupValidationStore').getErrors(s).filter(function(u){return c('AdsInstagramErrorUtils').isInstagramSpecificError(u);});q.push(t);}return q;};l.prototype.render=function(){return c('React').createElement(c('AdsCFCreativeMultipleImagesSelector.react'),babelHelpers['extends']({},this.props,{accountCapabilities:this.state.accountCapabilities,accountID:this.state.accountID,currentSelectedImageIndex:this.state.currentSelectedImageIndex,defaultLoadingPlaceholder:this.state.defaultLoadingPlaceholder,disableCropping:this.props.disableCropping,gifUploadedFromImage:this.state.gifUploadedFromImage,hideSoftErrorNotice:false,imageResolutionQE:this.state.imageResolutionQE,imagesErrors:this.state.imagesErrors,imagesOverlayBoxes:this.state.imagesOverlayBoxes,isCarouselFormatEligible:this.state.isCarouselFormatEligible,isCollectionFormatSelected:this.state.isCollectionFormatSelected,isDefaultLoading:this.state.isDefaultLoading,objective:this.state.objective,shouldRenderRemoveInstagramLink:this.state.shouldRenderRemoveInstagramLink,shouldShowTextPenaltyMessage:this.state.shouldShowTextPenaltyMessage,onImageClick:this.$AdsCFCreativeMultipleImagesSelectorContainer2}));};l.prototype.$AdsCFCreativeMultipleImagesSelectorContainer2=function(o){c('AdsAdgroupPreviewsV2Actions').setPreviewsIndex(o);};function l(){h.apply(this,arguments);}function m(o,p){var q=o.budgetMode,r=o.currency,s=o.endDate,t=o.startDate;if(q===j.DAILY)return c('AdsCFBudgetRecommendationUtils').getRecommendedDailyBudget(p,r);return c('AdsCFBudgetRecommendationUtils').getRecommendedLifetimeBudget(p,r,t,s);}function n(o){return o.map(function(p){var q=p.getHashOrUrl();return c('AdsCFReviewAPIStore').getTextOverlayBoxesForIdentifier(q);});}f.exports=c('AdsFluxContainer').create(l,{withProps:true});}),null);
__d('AdsImageTypes',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({STOCK:null,LIBRARY:null,SCRAPED:null,PAGE:null});f.exports=h;}),null);
__d('AdsCFCreativeImagePanel.react',['invariant','AdImageSpecsUtils','AdsAPICampaignPaths','AdsAPICampaignRecord','AdsCFActionTypes','AdsCFCreativeImagePanelLibraryActions.react','AdsCFCreativeImagePanelUploaderAction.react','AdsCFCreativeMultipleImagesSelectorContainer.react','AdsCFCreativeViewActions','AdsCFImageLibraryProviderType','AdsCFImageSyncOptions','AdsCFImageViewActions','AdsDispatcher','AdsImageCollection','AdsImageCollectionViews','AdsImageLibraryUtils','AdsImageSecondaryActions','AdsImageTypes','AdsImageUploadErrorActions','AdsInstagramApplicabilityUtils','AdsMediaPanelTabs','AdsMessengerPlacementV2Utils','MultiImageSelectorConstants','React','emptyFunction','nullthrows','AdsPlacementAPISpecReaderUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsPlacementAPISpecReaderUtils').convertCampaignRecordToPlacementSpec,l=c('React').PropTypes,m=0,n=void 0,o=[];function p(){n||h(0);return n;}function q(){return o;}function r(u){o=u||[];}function s(u){return c('MultiImageSelectorConstants').MAX_NUMBER_OF_IMAGES;}i=babelHelpers.inherits(t,c('React').Component);j=i&&i.prototype;function t(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=j.constructor).call.apply(u,[this].concat(x)),this.state={browsingCount:0,cropperShown:false,uploadingCount:0,uploaderFileInputNodeID:'AdsCFCreativeImagePanel'+m++,userImagesLoaded:false},this.$AdsCFCreativeImagePanel8=function(z){return this.$AdsCFCreativeImagePanel4('singleLink',z);}.bind(this),this.$AdsCFCreativeImagePanel6=function(z,aa){var ba=this.props.imageSpecs.map(function(ca){return ca.placement;});c('AdsCFCreativeViewActions').updateImageCrops(z,aa,this.props.objective,ba);}.bind(this),this.$AdsCFCreativeImagePanel14=function(z){if(s(this.props)===1)p().deselectAllImages();this.setState({uploadingCount:this.state.uploadingCount+z.length});}.bind(this),this.$AdsCFCreativeImagePanel15=function(z){this.setState({browsingCount:0});var aa=this.$AdsCFCreativeImagePanel25.bind(this,this.props.adgroupCreativePlugin.getImageLibraryTabsConfig());c('AdsImageLibraryUtils').fetchImagesForAccount(p(),{accountId:this.props.accountID},aa);c('AdsDispatcher').dispatch({action:{actionType:c('AdsCFActionTypes').IMAGE_DIALOG_OPEN,dialog:z,type:c('AdsCFActionTypes').IMAGE_DIALOG_OPEN}});}.bind(this),this.$AdsCFCreativeImagePanel19=function(z,aa){if(aa===c('AdsImageSecondaryActions').X){this.setState({browsingCount:this.state.browsingCount-1});p().setImageSelected(z,false);c('AdsImageUploadErrorActions').removeErrors();}}.bind(this),this.$AdsCFCreativeImagePanel18=function(z){var aa=p().toggleImageSelected(z);if(aa){this.setState({browsingCount:this.state.browsingCount+1});}else this.setState({browsingCount:this.state.browsingCount-1});var ba=void 0;if(z.isStockImage()){ba=c('AdsImageTypes').STOCK;}else if(z.getAdAccountHash()){ba=c('AdsImageTypes').LIBRARY;}else if(p().hasImageInView(z,c('AdsImageCollectionViews').views.PAGE))ba=c('AdsImageTypes').PAGE;ba||h(0);if(aa){this.$AdsCFCreativeImagePanel27(z,ba);}else this.$AdsCFCreativeImagePanel28(z,ba);c('AdsImageUploadErrorActions').removeErrors();}.bind(this),this.$AdsCFCreativeImagePanel17=function(){this.setState({browsingCount:0});c('AdsCFImageViewActions').cancelImageDialog(this.props.imageList);}.bind(this),this.$AdsCFCreativeImagePanel16=function(){this.setState({browsingCount:0});c('AdsCFImageViewActions').confirmImageDialog(this.props.imageList);}.bind(this),v;}t.prototype.$AdsCFCreativeImagePanel1=function(u){var v=p();this.$AdsCFCreativeImagePanel2();v.deselectAllImages();r(u);if(Array.isArray(u))u.forEach(function(w){if(!v.hasImage(w))v.addImagesToFront([w],c('AdsImageCollectionViews').views.INVISIBLE);v.setImageSelected(w,true);},this);this.$AdsCFCreativeImagePanel3=v.subscribe('onChange',function(){var w;if(!this.state.userImagesLoaded)this.setState({userImagesLoaded:true});c('AdsCFCreativeViewActions').setCreativeImageList(this.getImageList(),(w={},w[c('AdsCFImageSyncOptions').PERSIST_CROPS]=true,w),this.props.pageName);}.bind(this));};t.prototype.$AdsCFCreativeImagePanel2=function(){var u=this;if(u.$AdsCFCreativeImagePanel3){u.$AdsCFCreativeImagePanel3.unsubscribe();u.$AdsCFCreativeImagePanel3=null;}};t.prototype.componentWillMount=function(){n=new (c('AdsImageCollection'))({maxSelectedImages:s(this.props)});this.$AdsCFCreativeImagePanel1(this.props.imageList);};t.prototype.componentWillReceiveProps=function(u){this.$AdsCFCreativeImagePanel1(u.imageList);};t.prototype.componentWillUnmount=function(){this.$AdsCFCreativeImagePanel2();};t.prototype.render=function(){var u=q(),v=s(this.props),w=true;if(v>1)w=u.length+this.state.uploadingCount<v;var x=this.$AdsCFCreativeImagePanel4(),y=this.$AdsCFCreativeImagePanel5(!w,true,false),z=false;if(this.props.campaign){var aa=k(this.props.campaign);z=c('AdsMessengerPlacementV2Utils').isMessengerThreadSelected(aa)||c('AdsInstagramApplicabilityUtils').placementSpecHasInstagramStoryPlacementOnly(aa);}return c('React').createElement(c('AdsCFCreativeMultipleImagesSelectorContainer.react'),{disableCropping:z,disabledSpecs:this.props.disabledSpecs,fileInputNodeID:this.state.uploaderFileInputNodeID,imageCollection:p(),imageSpecs:this.props.imageSpecs,libraryImagesButtons:x,maxImagesLength:v,selectedImages:q(),uploadErrors:this.props.uploadErrors,uploaderButton:y,uploadingCount:this.state.uploadingCount,onConfirmCropping:this.$AdsCFCreativeImagePanel6,onImageRemove:this.$AdsCFCreativeImagePanel7,onMakeChangeImageLink:this.$AdsCFCreativeImagePanel8,onUploadImageClick:this.$AdsCFCreativeImagePanel9});};t.prototype.$AdsCFCreativeImagePanel10=function(){return c('nullthrows')(this.$AdsCFCreativeImagePanel11());};t.prototype.$AdsCFCreativeImagePanel11=function(){return this.props.imageSpecs&&this.props.imageSpecs[0];};t.prototype.$AdsCFCreativeImagePanel5=function(u,v,w){var x=this.$AdsCFCreativeImagePanel11();if(!x)return null;return c('React').createElement(c('AdsCFCreativeImagePanelUploaderAction.react'),{accountID:this.props.accountID,disabled:u,fileInputNodeID:this.state.uploaderFileInputNodeID,hide:v,imageSpec:x,multiple:s(this.props)>1,postponeDestroyUploader:w,validateImageFormat:true,validateImageSize:true,onUploadClick:this.$AdsCFCreativeImagePanel12,onUploadEnd:this.$AdsCFCreativeImagePanel13.bind(this,'imagepanel'),onUploadStart:this.$AdsCFCreativeImagePanel14});};t.prototype.$AdsCFCreativeImagePanel4=function(u,v){var w=c('AdImageSpecsUtils').reduceMinImageSpec(this.props.imageSpecs),x=w.imageSpec,y=w.igSpecificImageSpec;return c('React').createElement(c('AdsCFCreativeImagePanelLibraryActions.react'),{accountID:this.props.accountID,actionStyle:u,buttonName:v,buttonStyle:'done',buyingType:this.props.buyingType,defaultStockSearchText:this.props.defaultStockSearchText,dialogHandlers:{onShow:this.$AdsCFCreativeImagePanel15,onConfirm:this.$AdsCFCreativeImagePanel16,onCancel:this.$AdsCFCreativeImagePanel17},igSpecificImageSpec:y,imageCollection:p(),imageHandlers:{onClick:this.$AdsCFCreativeImagePanel18,onSecondaryAction:this.$AdsCFCreativeImagePanel19},imageSpec:x,maxSelectedImages:s(this.props),selectedImageList:p().getSelectedImages(),tabKeys:this.$AdsCFCreativeImagePanel20(),uploadHandlers:{onClick:this.$AdsCFCreativeImagePanel12,onEnd:this.$AdsCFCreativeImagePanel13.bind(this,'dialog')},userImagesLoaded:this.state.userImagesLoaded,validateImageFormat:true,validateImageSize:true,onTabSwitch:this.$AdsCFCreativeImagePanel21});};t.prototype.$AdsCFCreativeImagePanel20=function(){return [c('AdsMediaPanelTabs').LIBRARY,c('AdsMediaPanelTabs').STOCK,c('AdsMediaPanelTabs').UPLOAD];};t.prototype.$AdsCFCreativeImagePanel7=function(u){p().setImageSelected(u,false);c('AdsImageUploadErrorActions').removeErrors();};t.prototype.$AdsCFCreativeImagePanel9=function(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCFActionTypes').IMAGE_UPLOAD_CLICK});};t.prototype.$AdsCFCreativeImagePanel22=function(u){var v=u.filter(this.$AdsCFCreativeImagePanel23,this);if(v.length)p().addImagesToFront(v,c('AdsImageCollectionViews').views.LIBRARY);p().setImagesSelected(u,true);};t.prototype.$AdsCFCreativeImagePanel12=function(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCFActionTypes').IMAGE_UPLOAD_CLICK});};t.prototype.$AdsCFCreativeImagePanel13=function(u,v){var w=arguments.length<=2||arguments[2]===undefined?0:arguments[2];this.setState({uploadingCount:this.state.uploadingCount-v.length-w},this.$AdsCFCreativeImagePanel22.bind(this,v));c('AdsDispatcher').dispatch({action:{actionType:c('AdsCFActionTypes').IMAGE_UPLOAD_SUCCESS,images:v,imageSpec:this.$AdsCFCreativeImagePanel10(),type:c('AdsCFActionTypes').IMAGE_UPLOAD_SUCCESS}});v.forEach(this.$AdsCFCreativeImagePanel24.bind(this,u));};t.prototype.$AdsCFCreativeImagePanel24=function(u,v){v.setDimensionsReadyCallback(function(){if(!v.width&&!v.height)c('AdsDispatcher').handleUpdateFromServerResponse({image:v,placement:u,type:c('AdsCFActionTypes').IMAGE_DOWNLOAD_ERROR});});};t.prototype.getImageList=function(){return p().getSelectedImages();};t.prototype.$AdsCFCreativeImagePanel21=function(u){c('AdsDispatcher').handleUpdateFromViewAction({tabKey:u,type:c('AdsCFActionTypes').IMAGE_LIBRARY_TAB_CLICK});};t.prototype.$AdsCFCreativeImagePanel25=function(u){u.forEach(function(v){var w=v.view,x=v.providers,y=v.insertMode;if(y===c('AdsImageLibraryUtils').InsertMode.REPLACE)p().clearImagesByViewBitmask(w);x.forEach(function(z){if(z===c('AdsCFImageLibraryProviderType').PROMOTED_OBJECT_PAGE){var aa=c('nullthrows')(this.props.campaign).getIn(c('AdsAPICampaignPaths').PROMOTED_OBJECT.PAGE_ID);this.$AdsCFCreativeImagePanel26(aa,c('AdsImageLibraryUtils').InsertMode.APPEND);}else if(z===c('AdsCFImageLibraryProviderType').ACTOR_PAGE){this.props.adgroups.length>0||h(0);var ba=this.props.adgroupCreativePlugin.getActorFromSpec(this.props.adgroups[0],this.props.adgroupSpecPathPlugin);if(ba){this.$AdsCFCreativeImagePanel26(ba,c('AdsImageLibraryUtils').InsertMode.APPEND);}else p().clearImagesByViewBitmask(w);}}.bind(this));}.bind(this));};t.prototype.$AdsCFCreativeImagePanel26=function(u,v){c('AdsImageLibraryUtils').promisePhotosForPage(p(),u,{daoParams:{limit:25},insertMode:v}).done(c('emptyFunction'));};t.prototype.$AdsCFCreativeImagePanel27=function(u,v){c('AdsDispatcher').dispatch({action:{actionType:c('AdsCFActionTypes').IMAGE_SELECT_SUCCESS,image:u,imageSpec:this.$AdsCFCreativeImagePanel10(),imageType:v,type:c('AdsCFActionTypes').IMAGE_SELECT_SUCCESS}});};t.prototype.$AdsCFCreativeImagePanel28=function(u,v){c('AdsDispatcher').dispatch({action:{actionType:c('AdsCFActionTypes').IMAGE_DESELECT_SUCCESS,image:u,imageSpec:this.$AdsCFCreativeImagePanel10(),imageType:v,type:c('AdsCFActionTypes').IMAGE_DESELECT_SUCCESS}});};t.prototype.$AdsCFCreativeImagePanel23=function(u){return !p().hasImage(u);};t.propTypes={accountID:l.string.isRequired,adgroupCreativePlugin:l.object.isRequired,adgroupSpecPathPlugin:l.object.isRequired,adgroups:l.array.isRequired,buyingType:l.string,campaign:l.instanceOf(c('AdsAPICampaignRecord')),defaultStockSearchText:l.string,disabledSpecs:l.array,imageList:l.array.isRequired,imageSpecs:l.array.isRequired,pageName:l.string,objective:l.string.isRequired,uploadErrors:l.arrayOf(l.object).isRequired};t.defaultProps={uploadErrors:[]};f.exports=t;}),null);
__d('AdsCFCreativeImagePanelContainer.react',['invariant','AdImageSpecsUtils','AdsAdgroupSpecPathPluginResolver','AdsBrandAwarenessUtils','AdsAccountStore','AdsCFActiveCampaignIDStore','AdsCFAdgroupCreativePluginResolver','AdsCFCampaignStateUtils','AdsCFCampaignStore','AdsCFCreativeImagePanel.react','AdsCFPivotsSelectors','AdsFluxContainer','AdsImageUploadErrorStore','AdsLoadStateUtils','AdsPageStore','AdsPageUtils','AdsPlacementAPISpecReaderUtils','React','adsIsInstagramLowResolutionEnabledSelector','adsCFSelectedBuyingTypeSelector'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.getStores=function(){return [].concat(c('AdsCFPivotsSelectors').adgroupCreative.getStores(),c('AdsCFPivotsSelectors').adgroupSpecPath.getStores(),c('adsCFSelectedBuyingTypeSelector').getStores(),c('adsIsInstagramLowResolutionEnabledSelector').getStores(),[c('AdsAccountStore'),c('AdsCFActiveCampaignIDStore'),c('AdsImageUploadErrorStore'),c('AdsPageStore')]);};k.calculateState=function(l,m){var n=m.adgroups;n.length>0||h(0);var o='',p=c('AdsPageUtils').getPageID(n[0]),q='';if(p){var r=c('AdsPageStore').get(p);o=r&&c('AdsLoadStateUtils').isLoaded(r)&&r.category||'';q=r.name;}var s=c('AdsCFAdgroupCreativePluginResolver').resolve(c('AdsCFPivotsSelectors').adgroupCreative()),t=s.getDefaultAdCreativeType_DEPRECATED(),u=c('AdsCFCampaignStateUtils').getFirstSelectedRecord(c('AdsCFCampaignStore').getState(),c('AdsCFActiveCampaignIDStore').getState()),v=void 0,w=c('AdsPlacementAPISpecReaderUtils').convertCampaignRecordToPlacementSpec(u);v=c('AdImageSpecsUtils').getCropImageSpecsForAdTypeV2(t,[w],c('adsIsInstagramLowResolutionEnabledSelector')());var x=c('AdImageSpecsUtils').getDisabledCropImageSpecsForAdType(v,t,c('AdsBrandAwarenessUtils').isWebsiteLinkEnabled(n[0])),y=c('adsCFSelectedBuyingTypeSelector')();return {adgroupCreativePlugin:s,adgroupSpecPathPlugin:c('AdsAdgroupSpecPathPluginResolver').resolve(c('AdsCFPivotsSelectors').adgroupSpecPath()),buyingType:y,defaultStockSearchText:o,disabledSpecs:x,imageSpecs:v,pageName:q,uploadErrors:c('AdsImageUploadErrorStore').getUploadErrors()};};k.prototype.render=function(){return c('React').createElement(c('AdsCFCreativeImagePanel.react'),{accountID:this.props.accountID,adgroupCreativePlugin:this.state.adgroupCreativePlugin,adgroupSpecPathPlugin:this.state.adgroupSpecPathPlugin,adgroups:this.props.adgroups,buyingType:this.state.buyingType,campaign:this.props.campaign,defaultStockSearchText:this.state.defaultStockSearchText,destinationDetails:this.props.destinationDetails,disabledSpecs:this.state.disabledSpecs,imageList:this.props.imageList,imageSpecs:this.state.imageSpecs,objective:this.props.objective,pageName:this.state.pageName,uploadErrors:this.state.uploadErrors});};function k(){i.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(k,{withProps:true});}),null);
__d('AdsCFCreativeVideoUploaderAdvancedOptions.react',['cx','fbt','React','AdsSlideshowAdvancedOption.react','FBMoreLink.react','InputLabel.react','XUICheckboxInput.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);}l.prototype.$AdsCFCreativeVideoUploaderAdvancedOptions1=function(){if(this.props.hideAdvancedOptions||!this.props.shouldShowInstagramAdvancedOption)return null;return c('React').createElement(c('InputLabel.react'),null,c('React').createElement(c('XUICheckboxInput.react'),{checked:this.props.checkedInstagramPlatformCustomization,name:'Instagram Customization',value:'Instagram Customization',onChange:this.props.onToggleInstagramPlatformCustomization}),c('React').createElement('label',null,i._("Use custom video for Instagram placement")));};l.prototype.$AdsCFCreativeVideoUploaderAdvancedOptions2=function(){if(this.props.hideAdvancedOptions||!this.props.shouldShowSlideshowAdvancedOption)return null;return c('React').createElement(c('AdsSlideshowAdvancedOption.react'),{accountID:this.props.accountID,className:"_2tat",isSlideshowProcessing:this.props.isSlideshowAttachmentProcessing,rootClassName:"_2tau",slideshowAttachment:this.props.alternativeVideos[0],videoID:this.props.videoID});};l.prototype.render=function(){var m=i._("Show Advanced Options"),n=i._("Hide Advanced Options");return c('React').createElement('div',{className:"_4o6z"},c('React').createElement('div',{className:"_4bzh"},c('React').createElement(c('FBMoreLink.react'),{allowToggle:true,isInitiallyCollapsed:this.props.hideAdvancedOptions,lessLabel:n,moreLabel:m,onClick:this.props.onToggleAdvancedOptions})),this.$AdsCFCreativeVideoUploaderAdvancedOptions2(),this.$AdsCFCreativeVideoUploaderAdvancedOptions1());};f.exports=l;}),null);
__d('AdsCFVideoCaptionList.react',['cx','fbt','AdsCFHelpLink.react','AdsVideoCaptionUtils','BUIAdoptionButton.react','FileInput.react','InfoTable.react','InfoTableRow.react','InfoTableSection.react','React','Token.react','XUISelector.react','emptyFunction'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('XUISelector.react').Option;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$AdsCFVideoCaptionList1=function(){var t=c('React').createElement(c('AdsCFHelpLink.react'),null,i._("You can choose a backup language for captions to appear on videos when the preferred language isn't available.")),u=[];u.push(c('React').createElement(m,{key:'none',value:'none'},i._("None")));var v='none';this.props.captions.data.forEach(function(w){u.push(c('React').createElement(m,{key:w.locale,value:w.locale},i._("{locale name}: {locale}",[i.param('locale name',w.locale_name),i.param('locale',w.locale)])));if(w.is_default)v=w.locale;});return c('React').createElement(c('InfoTableRow.react'),{helpLink:t,label:i._("Backup Language")},c('React').createElement(c('XUISelector.react'),{className:"_3-98",value:v,onChange:this.props.onChangeDefaultLocale},u));}.bind(this),this.$AdsCFVideoCaptionList2=function(t){var u=this.$AdsCFVideoCaptionList3.bind(null,t);return c('React').createElement(c('Token.react'),{key:t.locale,label:i._("{locale name}: {locale}",[i.param('locale name',t.locale_name),i.param('locale',t.locale)]),removable:true,onRemove:u});}.bind(this),this.$AdsCFVideoCaptionList3=function(t){c('AdsVideoCaptionUtils').onClickDeleteCaption(this.props.onRemoveCaption,t.locale);}.bind(this),p;}n.prototype.render=function(){var o=null,p=null,q=this.props.captions;if(q.data.length>0){o=this.$AdsCFVideoCaptionList1();p=c('React').createElement('div',null,q.data.map(this.$AdsCFVideoCaptionList2),c('React').createElement('div',{className:"clearfix"}));}var r=c('React').createElement(c('AdsCFHelpLink.react'),null,i._("You can include captions in multiple languages with your video by uploading a SubRip (.srt) file with it. Each SubRip file must be saved using the format: filename.[two-letter language code]_[two-letter country code].srt"));return c('React').createElement(c('InfoTable.react'),null,c('React').createElement(c('InfoTableSection.react'),null,c('React').createElement(c('InfoTableRow.react'),{helpLink:r,label:i._("Video Captions")},c('React').createElement('div',{className:"_3-98"},p,c('React').createElement(c('FileInput.react'),{accept:'.srt',id:'captionFileInput',onChange:this.props.onCaptionFileChange},c('React').createElement(c('BUIAdoptionButton.react'),{disabled:this.props.disableUpload,height:'short',href:{url:'#'},label:i._("Upload SRT File"),use:'default'})))),o));};n.propTypes={captions:l.shape({data:l.arrayOf(l.shape({locale:l.string.isRequired,locale_name:l.string.isRequired,is_default:l.bool.isRequired}).isRequired).isRequired}).isRequired,disableUpload:l.bool,onCaptionFileChange:l.func,onChangeDefaultLocale:l.func.isRequired,onRemoveCaption:l.func.isRequired};n.defaultProps={disableUpload:false,onCaptionFileChange:c('emptyFunction'),onChangeDefaultLocale:c('emptyFunction'),onRemoveCaption:c('emptyFunction')};f.exports=n;}),null);
__d('AdsCFCreativeVideoUploaderCaptions.react',['cx','fbt','ix','AdsCFActionTypes','AdsCFErrorCodeDeprecated','AdsCFVideoCaptionList.react','AdsDispatcher','AdsVideoCaptionListContainer.react','AdsVideoCaptionUtils','AdsVideoDefaultCaptionSelector.react','Image.react','React','VideoCaptionPlacements','adsGKCheck'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;function m(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$AdsCFCreativeVideoUploaderCaptions2=function(event){this.$AdsCFCreativeVideoUploaderCaptions6(event.target);}.bind(this),this.$AdsCFCreativeVideoUploaderCaptions6=function(u){if(u.value)c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCFActionTypes').VIDEO_CAPTION_UPLOAD,data:{fileInput:u,videoID:this.props.selectedVideoID}});}.bind(this),this.$AdsCFCreativeVideoUploaderCaptions7=function(u,v,w){c('AdsDispatcher').handleUpdateFromViewAction({data:{addedCaptionFiles:u,defaultLocale:w,localesToRemove:v,videoID:this.props.selectedVideoID},type:c('AdsCFActionTypes').VIDEO_CAPTIONS_UPLOAD});}.bind(this),this.$AdsCFCreativeVideoUploaderCaptions4=function(u,v,w){if(v&&w){var x=this.props.captionIDs.filter(function(z){return z!==w;});this.props.onAutoCaptionChange(x);}c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCFActionTypes').VIDEO_CAPTION_REMOVE,data:{locale:u,videoID:this.props.selectedVideoID}});var y=document.getElementById('captionFileInput');if(y instanceof HTMLInputElement)y.value='';}.bind(this),this.$AdsCFCreativeVideoUploaderCaptions3=function(u){this.$AdsCFCreativeVideoUploaderCaptions5(u.value);}.bind(this),this.$AdsCFCreativeVideoUploaderCaptions5=function(u){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCFActionTypes').VIDEO_CAPTION_CHANGE_DEFAULT_LOCALE,data:{defaultLocale:u,videoID:this.props.selectedVideoID}});}.bind(this),q;}m.prototype.render=function(){var p=null,q=null,r=c('adsGKCheck')('video_caption_editor_redesign_cf');if(r){p=this.$AdsCFCreativeVideoUploaderCaptions1(this.props.captions);}else{q=c('React').createElement(o,{error:this.props.lastVideoCaptionUploadError});p=c('React').createElement('div',{className:"_4bzf"},c('React').createElement(c('AdsCFVideoCaptionList.react'),{captions:this.props.captions,disableUpload:this.props.isUploadingVideoCaption,onCaptionFileChange:this.$AdsCFCreativeVideoUploaderCaptions2,onChangeDefaultLocale:this.$AdsCFCreativeVideoUploaderCaptions3,onRemoveCaption:this.$AdsCFCreativeVideoUploaderCaptions4}));}return c('React').createElement('div',{className:"_4bzg"},q,p);};m.prototype.$AdsCFCreativeVideoUploaderCaptions1=function(p){var q=c('AdsVideoCaptionUtils').shouldShowRedesign(),r=q?null:c('React').createElement(c('AdsVideoDefaultCaptionSelector.react'),{captions:p.data,captionsEditable:!this.props.isUploadingVideoCaption,onSetDefaultCaption:this.$AdsCFCreativeVideoUploaderCaptions5}),s=q?"_ztc":"_1u61";return c('React').createElement('div',{className:s},c('React').createElement(c('AdsVideoCaptionListContainer.react'),{accountID:this.props.accountID,captionIDs:this.props.captionIDs,captions:p,captionsEditable:!this.props.isUploadingVideoCaption,platform:this.props.platform,isFBReviewDisabled:this.props.isFBReviewDisabled,placement:c('VideoCaptionPlacements').CREATE_AD_CF,shouldShowRedesign:true,someHaveInstagramPlacement:this.props.someHaveInstagramPlacement,uploadErrorMessage:n(this.props.lastVideoCaptionUploadError),videoID:this.props.selectedVideoID,onAutoCaptionChange:this.props.onAutoCaptionChange,onRemoveCaption:this.$AdsCFCreativeVideoUploaderCaptions4,onSetDefaultCaption:this.$AdsCFCreativeVideoUploaderCaptions5,onUploadCaption:this.$AdsCFCreativeVideoUploaderCaptions6,onUploadCaptions:this.$AdsCFCreativeVideoUploaderCaptions7}),r);};function n(p){if(!p)return null;var q=c('AdsCFErrorCodeDeprecated').errorCodeMap,r=void 0;switch(p.code){case q.API_EC_EDIT_VIDEO_CAPTIONS_UPLOAD_INVALID_LOCALE:r=i._("You uploaded a .SRT file with an incorrect file name. Please use this format: filename{suffix}",[i.param('suffix','.en_US.srt')]);break;case q.API_EC_EDIT_VIDEO_CAPTIONS_UPLOAD_BAD_FILE_FORMAT:r=i._("The file format isn't supported. Please upload SubRip (.srt) files for video captions.");break;case q.API_EC_EDIT_VIDEO_CAPTIONS_UPLOAD_FILE_TOO_LARGE:r=i._("You uploaded a .SRT file that is too large.");break;default:r=i._("Caption Upload Failed.");}return r;}function o(p){var q=n(p.error);if(!q)return null;return c('React').createElement('div',{className:"_u29 _3-95"},c('React').createElement(c('Image.react'),{className:"_3-90",src:j("22276")}),q);}f.exports=m;}),null);
__d('AdsCFSingleImagePicker.react',['fbt','AdsDialog.react','AdsImageCollection','AdsImageCollectionViews','AdsImageLegacy','AdsImageLibraryUtils','AdsMediaPanel.react','AdsMediaPanelTabs','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={selectedImage:null,userImagesLoaded:false},this.$AdsCFSingleImagePicker3=function(){return [{action:'cancel',label:h._("Cancel")},{action:'confirm',use:'confirm',disabled:!this.state.selectedImage,label:h._("Select")}];}.bind(this),this.$AdsCFSingleImagePicker5=function(){c('AdsImageLibraryUtils').fetchImagesForAccount(this.$AdsCFSingleImagePicker2,{accountId:this.props.accountID},this.$AdsCFSingleImagePicker8);if(this.props.dialogHandlers.onShow)this.props.dialogHandlers.onShow();}.bind(this),this.$AdsCFSingleImagePicker4=function(){if(this.props.dialogHandlers.onConfirm)this.props.dialogHandlers.onConfirm(this.state.selectedImage);}.bind(this),this.$AdsCFSingleImagePicker8=function(){this.setState({userImagesLoaded:true});}.bind(this),this.$AdsCFSingleImagePicker6=function(r){var s=null;if(!this.state.selectedImage||!r.equals(this.state.selectedImage))s=r;this.$AdsCFSingleImagePicker9(s);}.bind(this),this.$AdsCFSingleImagePicker7=function(r){var s=r[0];if(!this.$AdsCFSingleImagePicker2.hasImage(s))this.$AdsCFSingleImagePicker2.addImagesToFront([s],c('AdsImageCollectionViews').views.LIBRARY);this.$AdsCFSingleImagePicker9(s);}.bind(this),this.$AdsCFSingleImagePicker9=function(r){this.setState({selectedImage:r});this.$AdsCFSingleImagePicker1=!!r;}.bind(this),this.clearSelection=function(){this.$AdsCFSingleImagePicker2.deselectAllImages();this.$AdsCFSingleImagePicker9(null);}.bind(this),this.isImageSelected=function(){return this.$AdsCFSingleImagePicker1;}.bind(this),n;}l.prototype.componentWillReceiveProps=function(m){if(this.props.selectedImage&&!m.selectedImage){this.setState({selectedImage:null});this.$AdsCFSingleImagePicker1=false;}};l.prototype.componentWillMount=function(){if(this.props.selectedImage)this.setState({selectedImage:this.props.selectedImage});this.$AdsCFSingleImagePicker2=new (c('AdsImageCollection'))({maxSelectedImages:1});this.$AdsCFSingleImagePicker1=!!this.props.selectedImage;};l.prototype.componentWillUnmount=function(){this.$AdsCFSingleImagePicker2=null;};l.prototype.render=function(){var m=this.state.selectedImage?[this.state.selectedImage]:[];return c('React').createElement(c('AdsDialog.react'),{buttonSpecs:this.$AdsCFSingleImagePicker3(),clickableTrigger:c('React').Children.only(this.props.children),title:this.props.title,width:768,onCancel:this.props.dialogHandlers.onCancel,onConfirm:this.$AdsCFSingleImagePicker4,onShow:this.$AdsCFSingleImagePicker5},c('React').createElement(c('AdsMediaPanel.react'),{accountID:this.props.accountID,buttonStyle:'done',imageCollection:this.$AdsCFSingleImagePicker2,imageHandlers:{onClick:this.$AdsCFSingleImagePicker6,onDoubleClick:function n(o){},onSecondaryAction:function n(o){}},initialSelectedTab:this.props.initialSelectedTab,maxSelectedImages:1,selectedImageList:m,tabKeys:[c('AdsMediaPanelTabs').UPLOAD,c('AdsMediaPanelTabs').LIBRARY],uploadHandlers:{onEnd:this.$AdsCFSingleImagePicker7},userImagesLoaded:this.state.userImagesLoaded}));};l.propTypes={accountID:k.string.isRequired,dialogHandlers:k.shape({onShow:k.func,onConfirm:k.func,onCancel:k.func}),selectedImage:k.instanceOf(c('AdsImageLegacy')),title:k.string};l.defaultProps={dialogHandlers:{onShow:function m(){return void {};},onConfirm:function m(){return void {};},onCancel:function m(){return void {};}}};f.exports=l;}),null);
__d('AdsCFVideoCustomThumbnail.react',['cx','fbt','AdsCFSingleImagePicker.react','AdsUiImage.react','AdsXoutBox.react','BUIAdoptionXUISpinner.react','CenteredContainer.react','Link.react','LoadObject','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m='/images/ads/mediapanel/thumbnailPicker-plus.png';j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$AdsCFVideoCustomThumbnail1=function(event){event.stopPropagation();this.props.onClearCustomThumbnail();}.bind(this),r;}n.prototype.render=function(){var q=this.props.realThumbnailHeight/this.props.fixedThumbnailHeight,r=Math.max(this.props.realThumbnailWidth/q,this.props.minWidth);if(this.props.thumbnailLoadObject&&(this.props.thumbnailLoadObject.isLoading()||!this.props.thumbnailLoadObject.hasValue()))return c('React').createElement(c('CenteredContainer.react'),{className:"_10h7"+(' '+"_395k"),style:{height:this.props.fixedThumbnailHeight,width:r},vertical:true},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'}));var s=c('React').createElement(o,null),t=i._("Select Image"),u=void 0;if(this.props.thumbnailLoadObject){u=this.props.thumbnailLoadObject.getValueEnforcing();s=c('React').createElement(p,{fixedHeight:this.props.fixedThumbnailHeight,realHeight:this.props.realThumbnailHeight,realWidth:this.props.realThumbnailWidth,thumbnail:u});t=null;}return c('React').createElement(c('AdsCFSingleImagePicker.react'),{accountID:this.props.accountID,dialogHandlers:{onShow:function v(){return void {};},onConfirm:this.props.imageSelectedHandler,onCancel:function v(){return void {};}},ref:'imagePicker',selectedImage:u,title:i._("Choose a video thumbnail")},c('React').createElement(c('Link.react'),null,c('React').createElement(c('AdsXoutBox.react'),{isXoutable:!!u,onXoutClick:this.$AdsCFVideoCustomThumbnail1},c('React').createElement(c('CenteredContainer.react'),{className:"_10h7"+(!!u?' '+"_395k":''),style:{height:this.props.fixedThumbnailHeight+'px',width:r+'px'},vertical:true},s,t))));};n.prototype.clearImageSelectionFromDialog=function(){this.refs.imagePicker.clearSelection();};n.propTypes={accountID:l.string.isRequired,fixedThumbnailHeight:l.number.isRequired,imageSelectedHandler:l.func.isRequired,minWidth:l.number.isRequired,realThumbnailHeight:l.number.isRequired,realThumbnailWidth:l.number.isRequired,thumbnailLoadObject:l.instanceOf(c('LoadObject')),onClearCustomThumbnail:l.func.isRequired};function o(){return c('React').createElement(c('AdsUiImage.react'),{fixedHeight:24,realHeight:24,realWidth:24,src:m});}function p(q){var r=q.fixedHeight,s=q.realHeight,t=q.realWidth,u=q.thumbnail;return c('React').createElement(c('AdsUiImage.react'),{fixedHeight:r,realHeight:s,realWidth:t,src:u.getUrl()});}f.exports=n;}),null);
__d('AdsCFVideoCustomThumbnailContainer.react',['AdsAccountStore','AdsCFCreativeViewActions','AdsCFVideoCustomThumbnail.react','AdsFluxContainer','AdsImageIDClasses','AdsImageInfoStore','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('AdsImageIDClasses').AdsImageID,k=c('React').Component;h=babelHelpers.inherits(l,k);i=h&&h.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.$AdsCFVideoCustomThumbnailContainer1=function(){var r=this.props.video,s=r.id,t=r.preferredThumbnail;c('AdsCFCreativeViewActions').setVideoAndThumbnail(s,t);}.bind(this),n;}l.getStores=function(){return [c('AdsAccountStore'),c('AdsImageInfoStore')];};l.calculateState=function(m,n){var o=void 0;if(n.thumbnailURL)o=c('AdsImageInfoStore').getFullSizeLegacyImage_DEPRECATED(j.fromExternalURL(n.thumbnailURL));return {accountID:c('AdsAccountStore').getSelectedAccountIDX(),thumbnailLoadObject:o};};l.prototype.render=function(){return c('React').createElement(c('AdsCFVideoCustomThumbnail.react'),{accountID:this.state.accountID,fixedThumbnailHeight:this.props.fixedThumbnailHeight,imageSelectedHandler:this.props.imageSelectedHandler,minWidth:this.props.minWidth,realThumbnailHeight:this.props.realThumbnailHeight,realThumbnailWidth:this.props.realThumbnailWidth,ref:'videoCustomThumbnail',thumbnailLoadObject:this.state.thumbnailLoadObject,onClearCustomThumbnail:this.$AdsCFVideoCustomThumbnailContainer1});};l.prototype.clearImageSelectionFromDialog=function(){this.refs.videoCustomThumbnail.clearImageSelectionFromDialog();};f.exports=c('AdsFluxContainer').create(l,{withProps:true});}),null);
__d('AdsCFVideoPanelDialog.react',['cx','fbt','AdsCFActionTypes','AdsDispatcher','AdsLayerHideOnBlur','AdsLayerSupportDocked','AdsLoadState','AdsVideoShortContentConstant','AdsVideoShortContentTipContentEnum','AdsVideoShortContentTipSourceEnum','AdsVideoSelectionHeader.react','AdsVideoPanel.react','AdsVideoImportPanel.react','AdsWebdriverIDs','AdsCFConstants','React','VideoAdsShortContentNux.react','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','emptyFunction'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AdsCFConstants').VideoLibraryBrowseSource,m=c('React').PropTypes,n='AYMTAdsCreationChannel',o='video_ads_video_views_short_content_tip';j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={importVideoTitle:null,importVideoURL:null,selectedTab:this.props.videoUploadSource&&this.props.videoUploadSource===l.NOTE_LINK?c('AdsVideoSelectionHeader.react').tabs.IMPORT:c('AdsVideoSelectionHeader.react').tabs.LIBRARY,selectedVideoID:null,shown:!!this.props.initShownState},this.show=function(){this.setState({shown:true});}.bind(this),this.hide=function(){this.setState({importVideoURL:null,importVideoTitle:null,shown:false,selectedTab:c('AdsVideoSelectionHeader.react').tabs.LIBRARY,selectedVideoID:null});}.bind(this),this.$AdsCFVideoPanelDialog7=function(v){this.setState({selectedTab:v});this.props.onTabSwitch&&this.props.onTabSwitch(v);}.bind(this),this.$AdsCFVideoPanelDialog1=function(v){if(!v){this.props.onCancel();if(!this.props.noToggle)setTimeout(this.hide,0);}}.bind(this),this.$AdsCFVideoPanelDialog9=function(v){this.setState({importVideoTitle:v});}.bind(this),this.$AdsCFVideoPanelDialog10=function(v){this.setState({importVideoURL:v});}.bind(this),this.$AdsCFVideoPanelDialog8=function(v){var w=this.state.selectedVideoID===v?null:v;this.setState({selectedVideoID:w});c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCFActionTypes').VIDEO_ITEM_CLICK});}.bind(this),this.$AdsCFVideoPanelDialog5=function(){this.props.onCancel&&this.props.onCancel();}.bind(this),this.$AdsCFVideoPanelDialog11=function(){this.props.onConfirm&&this.props.onConfirm(this.state.selectedVideoID,this.props.videoErrors?this.props.videoErrors.get(this.state.selectedVideoID):undefined);this.hide();}.bind(this),this.$AdsCFVideoPanelDialog12=function(){this.props.onVideoImportConfirm&&this.props.onVideoImportConfirm(this.state.importVideoTitle,this.state.importVideoURL);this.hide();}.bind(this),r;}p.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerHideOnBlur:c('AdsLayerHideOnBlur'),LayerSupportDocked:c('AdsLayerSupportDocked')},layerHideOnBlur:false,key:'dialog',shown:this.state.shown,width:768,onToggle:this.$AdsCFVideoPanelDialog1},c('React').createElement('div',{'data-testid':c('AdsWebdriverIDs').VIDEO_LIBRARY},this.$AdsCFVideoPanelDialog2(),c('React').createElement(c('XUIDialogBody.react'),{className:"_24km",useCustomPadding:true},this.$AdsCFVideoPanelDialog3(),this.$AdsCFVideoPanelDialog4()),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:i._("Close"),onClick:this.$AdsCFVideoPanelDialog5}),this.$AdsCFVideoPanelDialog6())));};p.prototype.$AdsCFVideoPanelDialog2=function(){return c('React').createElement(c('AdsVideoSelectionHeader.react'),{selectedTab:this.state.selectedTab,visible:this.state.shown,onTabSwitch:this.$AdsCFVideoPanelDialog7});};p.prototype.$AdsCFVideoPanelDialog3=function(){switch(this.state.selectedTab){case c('AdsVideoSelectionHeader.react').tabs.LIBRARY:return c('React').createElement(c('AdsVideoPanel.react'),babelHelpers['extends']({},this.props,{selectedVideoID:this.state.selectedVideoID,onVideoClick:this.$AdsCFVideoPanelDialog8}));case c('AdsVideoSelectionHeader.react').tabs.IMPORT:return c('React').createElement(c('AdsVideoImportPanel.react'),{hasHelpTray:true,videoTitle:this.state.importVideoTitle,videoURL:this.state.importVideoURL,onVideoTitleChange:this.$AdsCFVideoPanelDialog9,onVideoURLChange:this.$AdsCFVideoPanelDialog10});default:return null;}};p.prototype.$AdsCFVideoPanelDialog4=function(){var q=this.state,r=q.selectedTab,s=q.selectedVideoID,t=this.props.videoList,u=c('AdsVideoShortContentConstant').SHORT_CONTENT_VIDEO_LENGTH_LIMIT;if(r!==c('AdsVideoSelectionHeader.react').tabs.LIBRARY||!s)return null;if(t){var v=t.find(function(w){return w.id===s;});if(v&&v.length<=u)return null;}return c('React').createElement('div',{className:"_1mlz"},c('React').createElement(c('VideoAdsShortContentNux.react'),{adAccountID:this.props.accountID,channelName:n,contentType:c('AdsVideoShortContentTipContentEnum').VIDEO_ONLOAD,nuxName:o,tipSource:c('AdsVideoShortContentTipSourceEnum').CREATION_FLOW_VIDEO_LIB_BROWSE}));};p.prototype.$AdsCFVideoPanelDialog6=function(){switch(this.state.selectedTab){case c('AdsVideoSelectionHeader.react').tabs.LIBRARY:return c('React').createElement(c('XUIDialogButton.react'),{action:'confirm','data-testid':c('AdsWebdriverIDs').VIDEO_SELECT_BUTTON,disabled:!this.state.selectedVideoID,label:i._("Select"),use:'confirm',onClick:this.$AdsCFVideoPanelDialog11});case c('AdsVideoSelectionHeader.react').tabs.IMPORT:return c('React').createElement(c('XUIDialogButton.react'),{action:'confirm','data-testid':c('AdsWebdriverIDs').VIDEO_SELECT_BUTTON,disabled:!this.state.importVideoTitle||!this.state.importVideoURL,label:i._("OK"),use:'confirm',onClick:this.$AdsCFVideoPanelDialog12});default:return null;}};p.propTypes={accountCapabilities:m.array,accountID:m.string,allowGIFFiles:m.bool.isRequired,initShownState:m.bool,noToggle:m.bool,showUploader:m.bool,videoList:m.array,videoUploadSource:m.string,onCancel:m.func.isRequired,onConfirm:m.func,onTabSwitch:m.func,onVideoImportConfirm:m.func};p.defaultProps={onCancel:c('emptyFunction')};f.exports=p;}),null);
__d('AdsCFCreativeVideoUploaderContainer.react',['cx','fbt','invariant','ix','AdsAdgroupSpecPathPluginResolver','AdsAPIAdAccountFields','AdsAPIAdCampaignFields','AdsAPIAdgroupPaths','AdsAPIAdgroupRecordUtils','AdsArrowedCarousel.react','AdsBlockListAccountListStore','AdsAccountStore','AdsCFActionTypes','AdsCFActiveCampaignIDStore','AdsCFAdgroupActions','AdsCFAdgroupStateUtils','AdsCFAdgroupStore','adsCFActiveCampaignGroupSelector','AdsCFCampaignStateUtils','AdsCFCampaignStore','AdsCFCampaignStoreUtils','AdsCFCreativeVideoUploaderAdvancedOptions.react','AdsCFCreativeVideoUploaderCaptions.react','AdsCFCreativeViewActions','AdsCFEligibilityInfoStore','AdsCFMediaStore','AdsCFPivotsSelectors','adsCFSelectedObjectiveSelector','AdsCFVideoCustomThumbnailContainer.react','AdsCFVideoPanelDialog.react','AdsCFVideoViewActions','AdsDispatcher','AdsError','AdsFluxContainer','AdsLoadState','AdsPlacementAPISpecReaderUtils','AdsPlatformTypes','AdsProgressBox.react','AdsQEStore','AdsSelected.react','AdsSlideshowExperimentStoreUtils','AdsSlideshowStore','AdsUiImage.react','AdsUnifiedCreativeAPIFields','AdsUnifiedCreativeAPIFieldUtils','AdsVideoAlternativesStore','AdsVideoCaptionUtils','AdsVideoItem.react','AdsVideoListStore','AdsVideoPanelNote.react','AdsVideoShortContentConstant','AdsVideoShortContentTipSourceEnum','AdsVideoShortContentTipContentEnum','AdsVideoStore','AdsVideoUploadStatus','AdsVideoUploadView.react','AdsVideoValidation','AdsXoutBox.react','ApiAdCreativeFields','BUIAdoptionXUISpinner.react','CenteredContainer.react','Image.react','ImageBlock.react','Layout.react','Link.react','Map','React','SlideshowEntrypoint','VideoAdsShortContentNux.react','VideoCreatorProductType','adsGKCheck','curry','AdsCFConstants','getByPath','joinClasses'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n=c('AdsCFConstants').VideoLibraryBrowseSource,o=c('Layout.react').Column,p=c('Layout.react').FillColumn,q=c('AdsProgressBox.react').PROCESSING_ACTION,r=c('AdsPlatformTypes').DEFAULT_PLATFORM;function s(u,v){return !v.find(function(w){return w.uri===u;});}l=babelHelpers.inherits(t,c('React').Component);m=l&&l.prototype;function t(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=m.constructor).call.apply(u,[this].concat(x)),this.$AdsCFCreativeVideoUploaderContainer13=function(z,aa,ba){var ca=aa===0,da=aa===ba.length-1,ea=80,fa=z.height||ea,ga=ea/fa,ha=Math.max(ga*z.width,ea);return c('React').createElement(c('AdsSelected.react'),{className:"_2443"+(ca?' '+"_3-9d":'')+(!da?' '+"_3-91":'')+(da?' '+"_3-93":''),isSelected:z.id===this.state.selectedThumbnailURL,key:'thumbnail_'+aa},c('React').createElement(c('Link.react'),{onClick:c('curry')(this.$AdsCFCreativeVideoUploaderContainer14,z)},c('React').createElement(c('Image.react'),{height:ea,src:z.uri,width:ha})));}.bind(this),this.$AdsCFCreativeVideoUploaderContainer11=function(z){c('AdsCFAdgroupActions').setCaptionIDs(this.state.adgroupIDs,z?z:null,this.props.platform);}.bind(this),this.$AdsCFCreativeVideoUploaderContainer4=function(z,aa){var ba=null,ca=this.props.platform;if(z){var da=this.state.videoMap.get(z);if(!da)da||j(0);if(da.loadState===c('AdsLoadState').LOADED)ba=da.preferredThumbnail;c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsCFActionTypes').VIDEO_ENCODING_SUCCESS,video:da,platform:ca});c('AdsCFVideoViewActions').confirmVideoDialog(aa);}var ea={};if(ca!==r){ea[ca]={imageURL:ba?ba.uri:null,videoID:z};c('AdsCFCreativeViewActions').setVideoAndThumbnail(null,null,ea);}else c('AdsCFCreativeViewActions').setVideoAndThumbnail(z,ba,ea);}.bind(this),this.$AdsCFCreativeVideoUploaderContainer8=function(z,aa){var ba=this.props.platform;c('AdsDispatcher').handleUpdateFromViewAction({title:z,url:aa,platform:ba,type:c('AdsCFActionTypes').VIDEO_UPLOAD_START});}.bind(this),this.$AdsCFCreativeVideoUploaderContainer3=function(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCFActionTypes').VIDEO_BROWSE_CANCEL,platform:this.props.platform});}.bind(this),this.$AdsCFCreativeVideoUploaderContainer10=function(z){var aa={},ba=this.props.platform;if(ba!==r)aa.platform={imageURL:z,videoID:this.props.selectedVideoID};c('AdsCFCreativeViewActions').setVideoAndThumbnail(this.props.selectedVideoID,{height:z.getHeight(),width:z.getWidth(),uri:z.getUrl(),id:z.getUniqueIdentifier(),scale:1},aa);}.bind(this),this.$AdsCFCreativeVideoUploaderContainer14=function(z){if(this.refs&&this.refs.videoCustomThumbnail)this.refs.videoCustomThumbnail.clearImageSelectionFromDialog();var aa=this.props.platform,ba={};if(aa!==r){ba[aa]={videoID:this.props.selectedVideoID,imageURL:z.uri};c('AdsCFCreativeViewActions').setVideoAndThumbnail(null,z,ba);}else c('AdsCFCreativeViewActions').setVideoAndThumbnail(this.props.selectedVideoID,z,null);}.bind(this),this.$AdsCFCreativeVideoUploaderContainer7=function(event){var z=event.target;if(z.value)c('AdsDispatcher').handleUpdateFromViewAction({fileInput:z,type:c('AdsCFActionTypes').VIDEO_UPLOAD_START,platform:this.props.platform});}.bind(this),this.$AdsCFCreativeVideoUploaderContainer6=function(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCFActionTypes').VIDEO_UPLOAD_CANCEL,platform:this.props.platform});}.bind(this),this.$AdsCFCreativeVideoUploaderContainer12=function(){this.props.onDeselectVideo(this.props.platform);}.bind(this),v;}t.getStores=function(){return [].concat(c('AdsCFPivotsSelectors').adgroupSpecPath.getStores(),c('adsCFActiveCampaignGroupSelector').getStores(),c('adsCFSelectedObjectiveSelector').getStores(),[c('AdsBlockListAccountListStore'),c('AdsAccountStore'),c('AdsCFActiveCampaignIDStore'),c('AdsCFAdgroupStore'),c('AdsCFCampaignStore'),c('AdsCFEligibilityInfoStore'),c('AdsCFMediaStore'),c('AdsQEStore'),c('AdsSlideshowStore'),c('AdsVideoAlternativesStore'),c('AdsVideoListStore'),c('AdsVideoStore')]);};t.calculateState=function(u,v){var w=c('AdsAccountStore').getSelectedAccount(),x=c('adsCFActiveCampaignGroupSelector')(),y=c('AdsCFCampaignStore').getState(),z=c('AdsCFCampaignStateUtils').getActiveCampaignIDs(c('AdsCFActiveCampaignIDStore').getState()),aa=c('AdsCFAdgroupStore').getState(),ba=c('AdsCFAdgroupStateUtils').getAdgroupRecordByIndex(aa),ca=c('AdsCFCampaignStateUtils').getFirstSelectedRecord(y,c('AdsCFActiveCampaignIDStore').getState()),da=c('AdsAPIAdgroupRecordUtils').isCarouselAd(ba),ea=c('adsCFSelectedObjectiveSelector')(),fa=c('AdsVideoListStore').getForAdAccountAndPage(v.accountID,v.pageID).list,ga=false;if(v.accountID){var ha=c('AdsQEStore').get('ads_gif_upload_holdout',v.accountID);ga=ha!=null&&ha.hasValue()&&!ha.getValueEnforcing().getParamBool('disable_gif_upload');}var ia=c('AdsAdgroupSpecPathPluginResolver').resolve(c('AdsCFPivotsSelectors').adgroupSpecPath()),ja=c('AdsAPIAdgroupRecordUtils').getVideoThumbnailURL(ba,ia,v.platform),ka=c('AdsCFMediaStore').getVideoUploadSource(v.platform),la=c('AdsCFMediaStore').getVideoUploadProgress(v.platform),ma=c('AdsCFMediaStore').getVideoUploadStatus(v.platform),na=c('AdsCFMediaStore').getVideoUploadTitle(v.platform),oa=c('AdsCFMediaStore').getLastVideoCaptionUploadError(),pa=c('AdsCFMediaStore').isUploadingVideoCaption(),qa=[].concat(c('AdsAPIAdgroupPaths').CREATIVE.PLATFORM_CUSTOMIZATIONS.path,[v.platform,c('ApiAdCreativeFields').CAPTION_IDS]),ra=v.platform===r||v.platform===null?c('AdsUnifiedCreativeAPIFieldUtils').getFieldValue(ba,ia,c('AdsUnifiedCreativeAPIFields').captionIDs):ba.getIn(qa),sa=c('AdsCFEligibilityInfoStore').get();return {accountBlockLists:c('AdsBlockListAccountListStore').get(w[c('AdsAPIAdAccountFields').ACCOUNT_ID]).getValue()||[],account:w,adgroupIDs:c('AdsCFAdgroupStateUtils').getAdgroupIDs(aa),allowGIFFiles:ga,alternativeVideos:c('AdsVideoAlternativesStore').getAlternativeVideos(v.selectedVideoID),buyingType:c('getByPath')(x,[c('AdsAPIAdCampaignFields').BUYING_TYPE]),campaignGroupObject:x,campaignIDs:z,captionIDs:ra?Array.from(ra):[],eligibilityInfo:sa,isCarousel:da,isSlideshowAttachmentProcessing:c('AdsSlideshowStore').isProcessing(c('SlideshowEntrypoint').ADS_EXTENDED_DELIVERY),isUploadingVideoCaption:pa,lastVideoCaptionUploadError:oa,objective:ea,selectedCampaign:ca,selectedThumbnailURL:ja,selectedVideo:v.selectedVideoID?c('AdsVideoStore').get(v.selectedVideoID):null,videoMap:c('AdsVideoStore').getAll(fa),videoUploadProgress:la,videoUploadSource:ka,videoUploadStatus:ma,videoUploadTitle:na};};t.prototype.$AdsCFCreativeVideoUploaderContainer1=function(){var u=this.state.selectedVideo,v=c('AdsVideoShortContentConstant').SHORT_CONTENT_VIDEO_LENGTH_LIMIT;if(!u)return null;if(u.length>v){return c('React').createElement('div',{className:"_2pic _2pir _2pij"},c('React').createElement(c('VideoAdsShortContentNux.react'),{adAccountID:this.props.accountID,channelName:'AYMTAdsCreationChannel',contentType:c('AdsVideoShortContentTipContentEnum').VIDEO_ONLOAD,nuxName:'video_ads_video_views_short_content_tip',tipSource:c('AdsVideoShortContentTipSourceEnum').CREATION_FLOW_VIDEO_UPLOAD}));}else return null;};t.prototype.render=function(){var u="_43_6",v=!this.props.selectedVideoID?"_5nqo":'',w=void 0;switch(this.state.videoUploadStatus){case c('AdsVideoUploadStatus').NONE:if(this.props.selectedVideoID){w=c('React').createElement('div',null,this.$AdsCFCreativeVideoUploaderContainer1(),this.$AdsCFCreativeVideoUploaderContainer2());}else w=null;break;case c('AdsVideoUploadStatus').BROWSE:var x=Array.from(this.state.videoMap.values());if(x&&this.props.isSlideshowSelected)x=x.filter(function(ba){return ba.creator_product===c('VideoCreatorProductType').SLIDESHOW;});var y=c('AdsPlacementAPISpecReaderUtils').convertCampaignRecordToPlacementSpec(this.state.selectedCampaign),z=c('AdsVideoValidation').getValidationMapByPlacementV2ForVideoList(x,y,this.state.objective,[this.state.buyingType],this.state.isCarousel);w=c('React').createElement(c('AdsCFVideoPanelDialog.react'),{accountCapabilities:this.state.eligibilityInfo&&this.state.eligibilityInfo.capabilities,accountID:this.props.accountID,allowGIFFiles:this.state.allowGIFFiles,initShownState:true,noToggle:true,ref:'dialog',selectableOnErrors:this.props.someHaveFacebookPlacement,selectedVideoID:this.props.selectedVideoID,shouldValidateForAudienceNetworkInStreamVideo:c('AdsCFCampaignStoreUtils').hasAudienceNetworkInStreamVideo(),showUploader:this.props.showUploader,someHaveFacebookPlacement:this.props.someHaveFacebookPlacement,someHaveInstagramPlacement:this.props.someHaveInstagramPlacement,uploadProgress:this.state.videoUploadProgress,uploadStatus:this.state.videoUploadStatus,uploadTitle:this.state.videoUploadTitle,videoErrors:z,videoList:x,videoUploadSource:this.state.videoUploadSource,onCancel:this.$AdsCFCreativeVideoUploaderContainer3,onConfirm:this.$AdsCFCreativeVideoUploaderContainer4,onTabSwitch:this.$AdsCFCreativeVideoUploaderContainer5,onUploadCancel:this.$AdsCFCreativeVideoUploaderContainer6,onVideoFileChange:this.$AdsCFCreativeVideoUploaderContainer7,onVideoImportConfirm:this.$AdsCFCreativeVideoUploaderContainer8});if(this.props.hideBrowser)return c('React').createElement('div',null,w);break;case c('AdsVideoUploadStatus').UPLOADING:w=c('React').createElement(c('AdsVideoUploadView.react'),{icon:k("23770"),processingAction:q.Uploading,step:1,striped:false,title:this.state.videoUploadTitle,uploadingProgress:this.state.videoUploadProgress,onUploadCancel:this.$AdsCFCreativeVideoUploaderContainer6});break;case c('AdsVideoUploadStatus').ENCODING:w=c('React').createElement(c('AdsVideoUploadView.react'),{icon:k("23769"),processingAction:q.Encoding,step:2,striped:true,title:this.state.videoUploadTitle,uploadingProgress:this.state.videoUploadProgress,onUploadCancel:this.$AdsCFCreativeVideoUploaderContainer6});break;}if(this.props.showNote&&w){var aa="_u27";return c('React').createElement('div',{className:u},c('React').createElement('div',{className:c('joinClasses')(aa,v)},w),c('React').createElement(c('AdsVideoPanelNote.react'),{allowGIFFiles:this.state.allowGIFFiles,className:"_43_7",hasFacebookPlacement:this.props.someHaveFacebookPlacement,hasInstagramPlacement:this.props.someHaveInstagramPlacement,hasInstagramStoriesPlacement:this.props.someHaveInstagramStoriesPlacement,isSlideshowSelected:this.props.isSlideshowSelected,platform:this.props.platform,onVideoImportLinkClick:this.$AdsCFCreativeVideoUploaderContainer9}));}else if(w){return c('React').createElement('div',{className:"_5mg5"},w);}else return null;};t.prototype.$AdsCFCreativeVideoUploaderContainer2=function(){var u=this.state.selectedVideo;if(!u)return null;if(u.loadState!==c('AdsLoadState').LOADED)return c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'small'});var v=u.thumbnails,w=c('React').createElement(o,null,c('React').createElement('div',{className:"_5qgj _2pil _3-90"},c('React').createElement('div',{className:"_3-95"},i._("Custom Thumbnail")),c('React').createElement(c('AdsCFVideoCustomThumbnailContainer.react'),{fixedThumbnailHeight:80,imageSelectedHandler:this.$AdsCFCreativeVideoUploaderContainer10,minWidth:100,realThumbnailHeight:v[0].height,realThumbnailWidth:v[0].width,ref:'videoCustomThumbnail',thumbnailURL:s(this.state.selectedThumbnailURL,v)?this.state.selectedThumbnailURL||undefined:undefined,video:u}))),x=u.captions||{data:[]},y=this.props.someHaveInstagramStoriesPlacement?null:c('React').createElement(c('AdsCFCreativeVideoUploaderCaptions.react'),{accountID:this.props.accountID,captionIDs:this.state.captionIDs,captions:x,platform:this.props.platform,isFBReviewDisabled:c('AdsVideoCaptionUtils').isFBReviewDisabled(u),isUploadingVideoCaption:this.state.isUploadingVideoCaption,lastVideoCaptionUploadError:this.state.lastVideoCaptionUploadError,selectedVideoID:this.props.selectedVideoID,someHaveInstagramPlacement:this.props.someHaveInstagramPlacement,onAutoCaptionChange:this.$AdsCFCreativeVideoUploaderContainer11}),z=c('AdsPlacementAPISpecReaderUtils').convertCampaignRecordToPlacementSpec(this.state.selectedCampaign),aa=c('AdsVideoValidation').validateVideoForPlacementV2AndObjective(u,z,this.state.objective,[this.state.buyingType],this.state.isCarousel),ba=c('adsGKCheck')('instagram_ads_video_platform_customization'),ca=c('AdsSlideshowExperimentStoreUtils').shouldShowSlideshowAdvancedOption(),da=!this.props.isSlideshowSelected&&ba&&this.props.platform===r&&this.props.someHaveFacebookPlacement&&this.props.someHaveInstagramPlacement,ea=ca||da,fa=ea?c('React').createElement(c('AdsCFCreativeVideoUploaderAdvancedOptions.react'),{accountID:this.props.accountID,alternativeVideos:this.state.alternativeVideos,checkedInstagramPlatformCustomization:this.props.checkedInstagramPlatformCustomization,hideAdvancedOptions:this.props.hideAdvancedOptions,isSlideshowAttachmentProcessing:this.state.isSlideshowAttachmentProcessing,shouldShowInstagramAdvancedOption:da,shouldShowSlideshowAdvancedOption:ca,videoID:u.id,onToggleAdvancedOptions:this.props.onToggleAdvancedOptions,onToggleInstagramPlatformCustomization:this.props.onToggleInstagramPlatformCustomization}):null;return c('React').createElement('div',{className:"_2s-1"},c('React').createElement(c('Layout.react'),{className:"_3_2s"},c('React').createElement(p,null,c('React').createElement(c('CenteredContainer.react'),{className:"_5nqp",vertical:true},c('React').createElement(c('ImageBlock.react'),{className:"_3-98 _2442",spacing:'large'},c('React').createElement(c('Image.react'),{src:k("23771")}),i._("Choose a preview image from the thumbnails below.")),i._("The image you choose will show before the video starts and when it is finished. Images have a big impact on how people will respond to your ads."))),c('React').createElement(o,null,c('React').createElement(c('AdsXoutBox.react'),{onXoutClick:this.$AdsCFCreativeVideoUploaderContainer12},c('React').createElement(c('AdsVideoItem.react'),{accountCapabilities:this.state.eligibilityInfo&&this.state.eligibilityInfo.capabilities,errors:aa,height:u.height,isSpherical:u.spherical,length:u.length,picture:this.state.selectedThumbnailURL||'',playable:true,selectableOnErrors:this.props.someHaveFacebookPlacement,size:'large',title:u.title||u.description,videoID:u.id,width:u.width})))),c('React').createElement('div',{className:"_4bzi"},c('React').createElement('div',{className:"_3_2t _2pid _2pio"},c('React').createElement(c('Layout.react'),null,w,c('React').createElement(p,null,c('React').createElement('div',{className:"_3-9d _3-95"},i._("Video Thumbnails")),c('React').createElement(c('AdsArrowedCarousel.react'),null,v.map(this.$AdsCFCreativeVideoUploaderContainer13)))))),y,fa);};t.prototype.$AdsCFCreativeVideoUploaderContainer9=function(u){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCFActionTypes').VIDEO_BROWSE_CLICK,platform:u,source:n.NOTE_LINK});};t.prototype.$AdsCFCreativeVideoUploaderContainer5=function(u){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCFActionTypes').VIDEO_LIBRARY_TAB_SWITCH,tab:u});};t.defaultProps={hideBrowser:false};f.exports=c('AdsFluxContainer').create(t,{withProps:true});}),null);
__d('AdsCFSlideshowProcessingView.react',['cx','fbt','ix','AdsSlideshowActions','BUIAdoptionCloseButton.react','BUIAdoptionXUIGrayText.react','BUIAdoptionXUIText.react','React','AdsFakeProgressBar.react','Image.react','Layout.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('Layout.react').Column,n=c('Layout.react').FillColumn;k=babelHelpers.inherits(o,c('React').PureComponent);l=k&&k.prototype;o.prototype.render=function(){var p=this.props.isProcessingThirdPartySlideshow?i._("THIS CAN TAKE ABOUT 2 MINUTES TO 10 MINUTES"):i._("THIS CAN TAKE BETWEEN 30 SECONDS AND 2 MINUTES");return c('React').createElement('div',null,c('React').createElement(c('Layout.react'),{className:"_1ie5"},c('React').createElement(m,{className:"_3-91 _3-8w"},c('React').createElement(c('Image.react'),{src:j("23769"),width:'48'})),c('React').createElement(n,{className:"_2pid _2pir"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'medium'},i._("We're currently creating your video. In the meantime, you can continue creating other parts of your ad.")))),c('React').createElement(c('Layout.react'),{className:"_2vlz"},c('React').createElement(n,null,c('React').createElement(c('AdsFakeProgressBar.react'),{className:"_3-8w",expectedTime:this.props.isProcessingThirdPartySlideshow?10:3})),c('React').createElement(m,null,c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_3-99",onClick:c('AdsSlideshowActions').cancelSlideshowCreation}))),c('React').createElement('div',{className:"_2vl-"},c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'small',weight:'bold'},p)));};function o(){k.apply(this,arguments);}f.exports=o;}),null);
__d('AdsCFCreativeVideoPanel.react',['cx','fbt','ix','AdsAPIAdAccountFields','AdsCFAdgroupActions','AdsCFCreativeVideoUploaderContainer.react','AdsCFCreativeViewActions','AdsCFErrorCodesLazy.react','AdsCFErrorSectionContainer.react','AdsCFSection.react','AdsCFSlideshowProcessingView.react','AdsCFSlideshowUploader','AdsCFWebdriverIDs','AdsCreateVideoButtonContainer.react','AdsError','AdsErrorType_DEPRECATED','AdsPlatformTypes','AdsVideoPanelNote.react','AdsVideoUploadStatus','AdsVideoUtils','BUIAdoptionButton.react','BUIAdoptionXUIGrayText.react','CenteredContainer.react','FileInput.react','Image.react','Layout.react','Link.react','React','SlideshowConstants','SlideshowEntrypoint'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('Layout.react').Column,n=c('Layout.react').FillColumn,o=c('React').PropTypes,p=c('AdsPlatformTypes').DEFAULT_PLATFORM;function q(t){var u=t.buttonLabel,v=t.platform,w=t.onButtonClick,x=function y(){return w(v);};return c('React').createElement(c('BUIAdoptionButton.react'),{'data-testid':c('AdsCFWebdriverIDs').BROWSE_VIDEO_LIBRARY_BUTTON,height:'tall',label:u,style:{marginRight:'4px',marginTop:'20px'},onClick:x});}function r(t){var u=t.allowGIFFiles,v=t.inputObject,w=t.platform,x=t.onVideoFileChange,y=t.onUploadClick,z=function aa(event){return x(event,w);};return c('React').createElement(c('FileInput.react'),{accept:c('AdsVideoUtils').getVideoFileExtensions(u),onChange:z,onClick:y},v);}k=babelHelpers.inherits(s,c('React').Component);l=k&&k.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=l.constructor).call.apply(t,[this].concat(w)),this.state={hideAdvancedOptions:true},this.$AdsCFCreativeVideoPanel4=function(y){c('AdsCFCreativeViewActions').removePlatformCustomizations();if(y===p){c('AdsCFCreativeViewActions').setVideoAndThumbnail(null,null);c('AdsCFAdgroupActions').setCaptionIDs(this.props.adgroupIDs,null);if(!this.state.hideAdvancedOptions)this.setState({hideAdvancedOptions:true});}}.bind(this),this.$AdsCFCreativeVideoPanel5=function(){this.setState({hideAdvancedOptions:!this.state.hideAdvancedOptions});}.bind(this),this.$AdsCFCreativeVideoPanel8=function(y){this.props.onVideoImportLinkClick(y);}.bind(this),u;}s.prototype.render=function(){var t=this.$AdsCFCreativeVideoPanel1(this.props.platformVideoProperties);return c('React').createElement('div',null,this.$AdsCFCreativeVideoPanel2(this.props.videoProperties),t);};s.prototype.$AdsCFCreativeVideoPanel1=function(t){if(!t)return null;if(this.props.someHaveInstagramPlacement&&this.props.someHaveFacebookPlacement){if(!this.props.checkedInstagramPlatformCustomization||this.state.hideAdvancedOptions||this.props.isSlideshowSelected)return null;return c('React').createElement(c('AdsCFSection.react'),{description:t.videoSectionDescription,name:t.videoSectionName,noPadding:true},c('React').createElement(c('AdsCFErrorSectionContainer.react'),{className:"_2acr",validatedSectionType:'MEDIA'}),c('React').createElement(c('Layout.react'),{className:"_2jja"},this.$AdsCFCreativeVideoPanel2(t)));}return null;};s.prototype.$AdsCFCreativeVideoPanel2=function(t){var u=t.platform!==c('AdsPlatformTypes').DEFAULT_PLATFORM?this.props.isProcessingPlatformSlideshow:this.props.isProcessingSlideshow;return c('React').createElement('div',{className:"_43_6"},c('React').createElement('div',{className:"_u27"},this.$AdsCFCreativeVideoPanel3(),c('React').createElement(c('AdsCFCreativeVideoUploaderContainer.react'),{accountID:this.props.account[c('AdsAPIAdAccountFields').ACCOUNT_ID],checkedInstagramPlatformCustomization:this.props.checkedInstagramPlatformCustomization,hideAdvancedOptions:this.state.hideAdvancedOptions,instagramVideoErrors:this.props.instagramVideoErrors,isSlideshowSelected:this.props.isSlideshowSelected,pageID:this.props.pageID,platform:t.platform,selectedVideoID:t.selectedVideoID,shouldRenderRemoveInstagramLink:this.props.shouldRenderRemoveInstagramLink,showUploader:this.props.showUploader,someHaveFacebookPlacement:this.props.someHaveFacebookPlacement,someHaveInstagramPlacement:this.props.someHaveInstagramPlacement,someHaveInstagramStoriesPlacement:this.props.someHaveInstagramStoriesPlacement,onDeselectVideo:this.$AdsCFCreativeVideoPanel4,onToggleAdvancedOptions:this.$AdsCFCreativeVideoPanel5,onToggleInstagramPlatformCustomization:this.props.onToggleInstagramPlatformCustomization}),u?this.$AdsCFCreativeVideoPanel6():this.$AdsCFCreativeVideoPanel7(t)),c('React').createElement(c('AdsVideoPanelNote.react'),{allowGIFFiles:this.props.allowGIFFiles,className:"_43_7",hasFacebookPlacement:this.props.someHaveFacebookPlacement,hasInstagramPlacement:this.props.someHaveInstagramPlacement,hasInstagramStoriesPlacement:this.props.someHaveInstagramStoriesPlacement,hasInstreamVideoPlacement:this.props.someHaveInstreamVideoPlacement,isSlideshowSelected:this.props.isSlideshowSelected,platform:t.platform,onVideoImportLinkClick:this.$AdsCFCreativeVideoPanel8}));};s.prototype.$AdsCFCreativeVideoPanel3=function(){var t=i._("Slideshow"),u=i._("Video"),v=i._({"*":{"*":"Show {Minimum number of images} to {Maximum number of images} images in a video."}},[i.param('Minimum number of images',c('SlideshowConstants').min_photo_num,[0]),i.param('Maximum number of images',c('SlideshowConstants').max_photo_num,[0])]),w=i._("Choose the video you'd like to use in your ads.");return c('React').createElement('div',{className:"__vq"},c('React').createElement('div',{className:"__vr"},this.props.isSlideshowSelected?t:u),c('React').createElement('div',{className:"__vs"},this.props.isSlideshowSelected?v:w));};s.prototype.$AdsCFCreativeVideoPanel7=function(t){var u=t.platform!==c('AdsPlatformTypes').DEFAULT_PLATFORM?this.props.platformUploadStatus:this.props.uploadStatus;switch(u){case c('AdsVideoUploadStatus').NONE:var v=t.selectedVideoID;if(!v)return this.$AdsCFCreativeVideoPanel9(t.platform);return null;case c('AdsVideoUploadStatus').ERROR:var w=[];w=[new (c('AdsError'))(c('AdsErrorType_DEPRECATED').ADGROUP_MEDIA_UPLOAD_ERROR,i._("Upload Failed. {Error message for uploading failure}",[i.param('Error message for uploading failure',this.props.uploadStatusError)]),{level:c('AdsError').Level.WARN})];var x=c('React').createElement(c('AdsCFErrorCodesLazy.react'),{account:this.props.account,additionalErrors:w,campaign:this.props.campaign,className:"_3-8v",errors:{},shouldRenderRemoveInstagramLink:false});return this.props.isSlideshowSelected?this.$AdsCFCreativeVideoPanel10(x,t.platform):this.$AdsCFCreativeVideoPanel11(x,t.platform);case c('AdsVideoUploadStatus').BROWSE:return this.$AdsCFCreativeVideoPanel9(t.platform);}return null;};s.prototype.$AdsCFCreativeVideoPanel6=function(){return c('React').createElement(c('AdsCFSlideshowProcessingView.react'),{isProcessingThirdPartySlideshow:this.props.isProcessingThirdPartySlideshow});};s.prototype.$AdsCFCreativeVideoPanel9=function(t){var u=i._("Create a new slideshow using images or video, or find one you've already created in your library"),v=i._("Upload a video, or use one from your library."),w=c('React').createElement(c('CenteredContainer.react'),{key:'content'},c('React').createElement(c('Layout.react'),{className:"_k6u"},c('React').createElement(m,{className:"_3-91"},c('React').createElement(c('Image.react'),{src:j("22302"),width:'48'})),c('React').createElement(n,{className:"_2pid"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light'},this.props.isSlideshowSelected?u:v))));return this.props.isSlideshowSelected?this.$AdsCFCreativeVideoPanel10(w,t):this.$AdsCFCreativeVideoPanel11(w,t);};s.prototype.$AdsCFCreativeVideoPanel10=function(t,u){return c('React').createElement('div',{className:"_k6v"},c('React').createElement('div',{className:"_k6w"},t),c('React').createElement(c('CenteredContainer.react'),{className:"_k6x"},c('React').createElement(c('AdsCreateVideoButtonContainer.react'),{accountID:this.props.account[c('AdsAPIAdAccountFields').ACCOUNT_ID],className:"_2d6m _15a7",entrypoint:c('SlideshowEntrypoint').ADS_CREATE_FLOW,maxSelectedImages:c('SlideshowConstants').max_photo_num,pageID:this.props.pageID,slideshowUploader:new (c('AdsCFSlideshowUploader'))(),type:'box'})),c('React').createElement(q,{buttonLabel:i._("Browse Library"),platform:u,onButtonClick:this.props.onBrowseClick}),c('React').createElement(c('AdsCreateVideoButtonContainer.react'),{accountID:this.props.account[c('AdsAPIAdAccountFields').ACCOUNT_ID],className:"_3-99 _3-8-",entrypoint:c('SlideshowEntrypoint').ADS_CREATE_FLOW,maxSelectedImages:c('SlideshowConstants').max_photo_num,pageID:this.props.pageID,slideshowUploader:new (c('AdsCFSlideshowUploader'))()}));};s.prototype.$AdsCFCreativeVideoPanel11=function(t,u){var v=c('React').createElement(c('Link.react'),{className:"_2npo _2rd9"},c('React').createElement(c('CenteredContainer.react'),{className:"_15a7",vertical:true},c('React').createElement('div',{className:"_2npx"}))),w=c('React').createElement(c('BUIAdoptionButton.react'),{height:'tall',href:{url:'#'},label:i._("Upload Video"),style:{marginRight:'8px',marginTop:'20px'},use:'confirm'});return c('React').createElement('div',{className:"_k6v"},c('React').createElement('div',{className:"_k6w"},t),c('React').createElement(c('CenteredContainer.react'),{className:"_k6x"},c('React').createElement(r,{allowGIFFiles:this.props.allowGIFFiles,inputObject:v,platform:u,onUploadClick:this.props.onUploadClick,onVideoFileChange:this.props.onVideoFileChange})),c('React').createElement(r,{allowGIFFiles:this.props.allowGIFFiles,inputObject:w,platform:u,onUploadClick:this.props.onUploadClick,onVideoFileChange:this.props.onVideoFileChange}),c('React').createElement(q,{buttonLabel:i._("Browse Library"),platform:u,onButtonClick:this.props.onBrowseClick}));};s.propTypes={account:o.object.isRequired,adgroupIDs:o.arrayOf(o.string).isRequired,allowGIFFiles:o.bool.isRequired,campaign:o.object.isRequired,checkedInstagramPlatformCustomization:o.bool.isRequired,instagramVideoErrors:o.arrayOf(o.object).isRequired,isProcessingPlatformSlideshow:o.bool,isProcessingSlideshow:o.bool.isRequired,isSlideshowSelected:o.bool.isRequired,objective:o.string.isRequired,pageID:o.string,platformUploadStatus:o.string,platformVideoProperties:o.object,shouldRenderRemoveInstagramLink:o.bool.isRequired,showUploader:o.bool,someHaveFacebookPlacement:o.bool.isRequired,someHaveInstagramPlacement:o.bool.isRequired,someHaveInstagramStoriesPlacement:o.bool.isRequired,someHaveInstreamVideoPlacement:o.bool,uploadStatus:o.string.isRequired,uploadStatusError:o.string.isRequired,videoProperties:o.object.isRequired,onBrowseClick:o.func.isRequired,onToggleInstagramPlatformCustomization:o.func,onUploadClick:o.func.isRequired,onVideoFileChange:o.func.isRequired,onVideoImportLinkClick:o.func.isRequired};s.defaultProps={someHaveInstreamVideoPlacement:false};f.exports=s;}),null);
__d('AdsCFCreativeVideoPanelContainer.react',['cx','fbt','AdsAccountStore','AdsCFActionTypes','AdsCFActiveCampaignIDStore','AdsCFAdgroupStateUtils','AdsCFAdgroupStore','AdsCFAdgroupValidationStore','adsCFActiveCampaignGroupSelector','adsCFActiveCampaignSelector','AdsCFCampaignStateUtils','AdsCFCampaignStore','AdsCFCampaignStoreUtils','AdsCFCreativeVideoPanel.react','AdsCFCreativeViewActions','AdsCFMediaStore','AdsCFPivotsSelectors','adsCFSelectedObjectiveSelector','AdsCFUISlideshowFormatStore','AdsCPBConfig','AdsDispatcher','AdsFluxContainer','AdsInstagramFields','AdsLoadState','AdsPlatformTypes','AdsQEStore','AdsSlideshowStore','AdsVideoStore','ApiAdCreativePlatformCustomizationFields','AdsCFConstants','BUIAdoptionXUISpinner.react','React','SlideshowEntrypoint','adsGKCheck'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AdsCFConstants').VideoLibraryBrowseSource,m=c('React').Component,n=c('AdsPlatformTypes').DEFAULT_PLATFORM;j=babelHelpers.inherits(o,m);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$AdsCFCreativeVideoPanelContainer2=function(){if(this.state.checkedInstagramPlatformCustomization)c('AdsCFCreativeViewActions').removePlatformCustomizations();this.setState({checkedInstagramPlatformCustomization:!this.state.checkedInstagramPlatformCustomization});}.bind(this),q;}o.getStores=function(){return [].concat(c('AdsCFPivotsSelectors').adgroupCreative.getStores(),c('adsCFActiveCampaignGroupSelector').getStores(),c('adsCFActiveCampaignSelector').getStores(),c('adsCFSelectedObjectiveSelector').getStores(),[c('AdsAccountStore'),c('AdsCFAdgroupStore'),c('AdsCFAdgroupValidationStore'),c('AdsCFMediaStore'),c('AdsCFUISlideshowFormatStore'),c('AdsQEStore'),c('AdsSlideshowStore'),c('AdsVideoStore')]);};o.calculateState=function(p,q){var r=c('ApiAdCreativePlatformCustomizationFields').INSTAGRAM,s=q.videoIDs.get(n),t=q.videoIDs.get(r),u=false;if(s){var v=c('AdsVideoStore').get(s);u=v.loadState===c('AdsLoadState').LOADING;}var w=false;if(t){var x=c('AdsVideoStore').get(t);w=x.loadState===c('AdsLoadState').LOADING;}var y={platform:n,selectedVideoID:s},z={platform:r,selectedVideoID:t,videoSectionDescription:null,videoSectionName:null};switch(r){case c('ApiAdCreativePlatformCustomizationFields').INSTAGRAM:var aa=i._("Choose the video you'd like to use in your Instagram ad."),ba=i._("Instagram Video");z.videoSectionDescription=aa;z.videoSectionName=ba;break;}var ca=c('AdsCFAdgroupStore').getState(),da=c('AdsCFAdgroupStateUtils').getAdgroupIDs(ca),ea=c('adsCFActiveCampaignSelector')(),fa=c('AdsCFCampaignStore').getState(),ga=c('AdsCFActiveCampaignIDStore').getState(),ha=c('AdsCFCampaignStoreUtils').hasFacebookPlacement(),ia=c('AdsCFCampaignStoreUtils').hasInstagramPlacement(),ja=c('AdsCFCampaignStoreUtils').hasInstagramStoriesPlacement(),ka=c('AdsCFCampaignStateUtils').hasInstreamVideoPlacement(fa,ga),la=c('AdsCFCampaignStoreUtils').canRemoveInstagramPlacement(),ma=c('AdsCFAdgroupValidationStore').getErrors(),na=ma.filter(function(bb){return c('AdsInstagramFields').INSTAGRAM_VIDEO_ERROR_KEYS.has(bb.key);}),oa=c('AdsSlideshowStore').isProcessing(c('SlideshowEntrypoint').ADS_CREATE_FLOW),pa=c('AdsSlideshowStore').isProcessingThirdPartySlideshow(),qa=c('AdsSlideshowStore').isProcessing(c('SlideshowEntrypoint').ADS_CREATE_FLOW_PLATFORM),ra=c('AdsCFUISlideshowFormatStore').isSlideshowSelected(),sa=c('AdsAccountStore').getSelectedAccount(),ta=p?p.checkedInstagramPlatformCustomization:false,ua=c('adsGKCheck')('instagram_ads_video_platform_customization')?z:null,va=c('AdsCFMediaStore').getVideoUploadStatus(y.platform),wa=c('AdsCFMediaStore').getVideoUploadStatus(z.platform),xa=c('AdsCFMediaStore').getVideoUploadError(),ya=c('adsCFSelectedObjectiveSelector')(),za=c('AdsQEStore').get('ads_gif_upload_holdout',c('AdsAccountStore').getSelectedAccountIDX()),ab=za!=null&&za.hasValue()&&!za.getValueEnforcing().getParamBool('disable_gif_upload')&&!c('AdsCPBConfig').isCPBFBDealsUser;return {account:sa,adgroupIDs:da,allowGIFFiles:ab,campaign:ea,checkedInstagramPlatformCustomization:ta,instagramVideoErrors:na,isProcessingPlatformSlideshow:qa,isProcessingSlideshow:oa,isProcessingThirdPartySlideshow:pa,isSlideshowSelected:ra,isVideoLoading:u,objective:ya,platformIsVideoLoading:w,platformUploadStatus:wa,platformVideoProperties:ua,shouldRenderRemoveInstagramLink:la,someHaveFacebookPlacement:ha,someHaveInstagramPlacement:ia,someHaveInstagramStoriesPlacement:ja,someHaveInstreamVideoPlacement:ka,uploadStatus:va,uploadStatusError:xa,videoProperties:y};};o.prototype.render=function(){if(this.state.isVideoLoading)return c('React').createElement('div',{className:"_4r1b"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'}));return c('React').createElement(c('AdsCFCreativeVideoPanel.react'),{account:this.state.account,adgroupIDs:this.state.adgroupIDs,allowGIFFiles:this.state.allowGIFFiles,campaign:this.state.campaign,checkedInstagramPlatformCustomization:this.state.checkedInstagramPlatformCustomization,instagramVideoErrors:this.state.instagramVideoErrors,isProcessingPlatformSlideshow:this.state.isProcessingPlatformSlideshow,isProcessingSlideshow:this.state.isProcessingSlideshow,isProcessingThirdPartySlideshow:this.state.isProcessingThirdPartySlideshow,isSlideshowSelected:this.state.isSlideshowSelected,objective:this.state.objective,pageID:this.props.pageID||undefined,platformUploadStatus:this.state.platformUploadStatus||undefined,platformVideoProperties:this.state.platformVideoProperties||undefined,shouldRenderRemoveInstagramLink:this.state.shouldRenderRemoveInstagramLink,someHaveFacebookPlacement:this.state.someHaveFacebookPlacement,someHaveInstagramPlacement:this.state.someHaveInstagramPlacement,someHaveInstagramStoriesPlacement:this.state.someHaveInstagramStoriesPlacement,someHaveInstreamVideoPlacement:this.state.someHaveInstreamVideoPlacement,uploadStatus:this.state.uploadStatus,uploadStatusError:this.state.uploadStatusError,videoProperties:this.state.videoProperties,onBrowseClick:this.$AdsCFCreativeVideoPanelContainer1,onToggleInstagramPlatformCustomization:this.$AdsCFCreativeVideoPanelContainer2,onUploadClick:this.$AdsCFCreativeVideoPanelContainer3,onVideoFileChange:this.$AdsCFCreativeVideoPanelContainer4,onVideoImportLinkClick:this.$AdsCFCreativeVideoPanelContainer5});};o.prototype.$AdsCFCreativeVideoPanelContainer1=function(p){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCFActionTypes').VIDEO_BROWSE_CLICK,platform:p,source:l.BROWSE_BUTTON});};o.prototype.$AdsCFCreativeVideoPanelContainer3=function(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCFActionTypes').VIDEO_UPLOAD_CLICK});};o.prototype.$AdsCFCreativeVideoPanelContainer4=function(event,p){var q=event.target;if(q.value)c('AdsDispatcher').handleUpdateFromViewAction({fileInput:q,platform:p,type:c('AdsCFActionTypes').VIDEO_UPLOAD_START});};o.prototype.$AdsCFCreativeVideoPanelContainer5=function(p){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCFActionTypes').VIDEO_UPLOAD_CANCEL,platform:p});c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCFActionTypes').VIDEO_BROWSE_CLICK,platform:p,source:l.NOTE_LINK});};f.exports=c('AdsFluxContainer').create(o,{withProps:true});}),null);
__d('AdsCFMultiFormatImageVideoSelector.react',['cx','fbt','AdsAdgroupSpecUtils','AdsPageUtils','AdsAPIAdgroupRecord','AdsCFCreativeImagePanelContainer.react','AdsCFCreativeVideoPanelContainer.react','AdsPlatformTypes','AdsAPICampaignRecord','AdsUIMediaFormat','BUIAdoptionXUINoticeSmall.react','FBHorizontalRadioList.react','React','XUIRadioList.react','AdsImageLegacy','Map'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('XUIRadioList.react').Item;function n(p){var q=p.accountID,r=p.adgroup,s=p.adgroups,t=p.campaign,u=p.imageList,v=p.mediaFormat,w=p.objective;if(v===c('AdsUIMediaFormat').SINGLE_IMAGE){return c('React').createElement(c('AdsCFCreativeImagePanelContainer.react'),{accountID:q,adgroups:s,campaign:t,imageList:u,objective:w});}else if(v===c('AdsUIMediaFormat').SINGLE_VIDEO||v===c('AdsUIMediaFormat').SLIDESHOW){var x=c('AdsPlatformTypes').DEFAULT_PLATFORM,y=c('AdsAdgroupSpecUtils').getVideoData(r),z=c('AdsPageUtils').getPageID(r),aa=new (c('Map'))();if(y)aa.set(x,y?y.video_id:undefined);return c('React').createElement(c('AdsCFCreativeVideoPanelContainer.react'),{pageID:z,videoIDs:aa});}else return c('React').createElement(c('BUIAdoptionXUINoticeSmall.react'),{style:{marginBottom:'12px'},type:'information'},i._("The selected ads use media which can't be edited."));}j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;o.prototype.render=function(){var p=this.props.shouldShowRichMediaImageSelector?[c('React').createElement(m,{key:c('AdsUIMediaFormat').SINGLE_IMAGE,value:c('AdsUIMediaFormat').SINGLE_IMAGE},c('React').createElement('span',null,i._("Image")))]:[];p.push(c('React').createElement(m,{key:c('AdsUIMediaFormat').SINGLE_VIDEO,value:c('AdsUIMediaFormat').SINGLE_VIDEO},c('React').createElement('span',null,i._("Video"))),c('React').createElement(m,{key:c('AdsUIMediaFormat').SLIDESHOW,value:c('AdsUIMediaFormat').SLIDESHOW},c('React').createElement('span',null,i._("Slideshow"))));return c('React').createElement('div',null,c('React').createElement(c('FBHorizontalRadioList.react'),{className:"_1d_o",grayBackground:false,selectedValue:this.props.selectedMediaFormat,onValueChange:this.props.onMediaTypeChanged},p),c('React').createElement(n,{accountID:this.props.accountID,adgroup:this.props.adgroup,adgroups:this.props.adgroups,campaign:this.props.campaign,imageList:this.props.imageList,mediaFormat:this.props.selectedMediaFormat,objective:this.props.objective}));};function o(){j.apply(this,arguments);}o.propTypes={accountID:l.string.isRequired,adgroup:l.instanceOf(c('AdsAPIAdgroupRecord')).isRequired,adgroups:l.array.isRequired,campaign:l.instanceOf(c('AdsAPICampaignRecord')).isRequired,imageList:l.arrayOf(l.instanceOf(c('AdsImageLegacy'))).isRequired,objective:l.string.isRequired,selectedMediaFormat:l.string.isRequired,onMediaTypeChanged:l.func.isRequired,shouldShowRichMediaImageSelector:l.bool.isRequired};f.exports=o;}),null);
__d('AdsCFMultiFormatImageVideoSelectorContainer.react',['AdsAccountStore','AdsCFActiveCampaignIDStore','AdsCFAdgroupCreativePluginResolver','AdsCFAdgroupStateUtils','AdsCFAdgroupStore','AdsCFCampaignStateUtils','AdsCFCampaignStore','AdsCFCreativeViewActions','AdsCFMultiFormatImageVideoSelector.react','AdsCFPivotsSelectors','AdsCFUISlideshowFormatStore','AdsFluxContainer','AdsImageInfoStore','AdsUIMediaFormat','React','adsAssertAPIObjective','adsCFSelectedObjectiveSelector','adsCFUIMediaFormatSelector'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').PureComponent);i=h&&h.prototype;j.getStores=function(){return [].concat(c('AdsCFPivotsSelectors').adgroupCreative.getStores(),c('adsCFSelectedObjectiveSelector').getStores(),c('adsCFUIMediaFormatSelector').getStores(),[c('AdsAccountStore'),c('AdsCFActiveCampaignIDStore'),c('AdsCFAdgroupStore'),c('AdsCFCampaignStore'),c('AdsCFUISlideshowFormatStore'),c('AdsImageInfoStore')]);};j.calculateState=function(){var k=c('AdsCFAdgroupStore').getState(),l=c('AdsCFAdgroupStateUtils').getAdgroupRecords(k),m=c('AdsCFAdgroupStateUtils').getAdgroupRecordByIndex(k,0),n=c('AdsCFAdgroupCreativePluginResolver').resolve(c('AdsCFPivotsSelectors').adgroupCreative()),o=c('adsCFUIMediaFormatSelector')({isCanvasFormatEligible:false,isCollectionFormatEligible:false}),p=c('AdsCFCampaignStateUtils').getFirstSelectedRecord(c('AdsCFCampaignStore').getState(),c('AdsCFActiveCampaignIDStore').getState()),q=c('adsCFSelectedObjectiveSelector')(),r=c('AdsAccountStore').getSelectedAccountIDX(),s=n.shouldShowRichMediaImageSelector();return {accountID:r,adgroup:m,adgroups:l,campaign:p,selectedMediaFormat:o,imageList:this.$AdsCFMultiFormatImageVideoSelectorContainer1(l,r),objective:q,shouldShowRichMediaImageSelector:s};};j.$AdsCFMultiFormatImageVideoSelectorContainer1=function(k,l){var m=[];k.forEach(function(n){var o=c('AdsImageInfoStore').getFullSizeLegacyImageForSingleImageAd_DEPRECATED(n,l);if(o.hasValue())m.push(o.getValueEnforcing());});return m;};j.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement(c('AdsCFMultiFormatImageVideoSelector.react'),{accountID:this.state.accountID,adgroup:this.state.adgroup,adgroups:this.state.adgroups,campaign:this.state.campaign,imageList:this.state.imageList,objective:c('adsAssertAPIObjective')(this.state.objective),selectedMediaFormat:this.state.selectedMediaFormat,shouldShowRichMediaImageSelector:this.state.shouldShowRichMediaImageSelector,onMediaTypeChanged:this.$AdsCFMultiFormatImageVideoSelectorContainer2}));};j.prototype.$AdsCFMultiFormatImageVideoSelectorContainer2=function(k){switch(k){case c('AdsUIMediaFormat').SINGLE_IMAGE:c('AdsCFCreativeViewActions').selectRichMediaImageMediaType();break;case c('AdsUIMediaFormat').SLIDESHOW:c('AdsCFCreativeViewActions').selectRichMediaSlideShowMediaType();break;case c('AdsUIMediaFormat').SINGLE_VIDEO:c('AdsCFCreativeViewActions').selectRichMediaVideoMediaType();break;}};function j(){h.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(j);}),null);
__d('AdsCFXMediaSection.react',['cx','invariant','AdsAdgroupSpecUtils','AdsAPICampaignRecord','AdsCFCreativeImagePanelContainer.react','AdsCFCreativeVideoPanelContainer.react','AdsCFErrorSectionContainer.react','AdsCFSection.react','AdsImageLegacy','AdsPageUtils','AdsPlatformTypes','AdsUIMediaFormat','ApiAdCreativePlatformCustomizationFields','AdsCFMultiFormatImageVideoSelectorContainer.react','Map','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=function p(q){var r=q.adgroupSpec,s=c('ApiAdCreativePlatformCustomizationFields').INSTAGRAM,t=c('AdsPlatformTypes').DEFAULT_PLATFORM,u=c('AdsAdgroupSpecUtils').getVideoData(r),v=c('AdsPageUtils').getPageID(r),w=c('AdsAdgroupSpecUtils').getPlatformVideoID(r,s),x=new (c('Map'))();if(u)x.set(t,u?u.video_id:undefined);if(w)x.set(s,w);return c('React').createElement(c('AdsCFCreativeVideoPanelContainer.react'),{pageID:v,videoIDs:x});},n=function p(q){var r=q.accountID,s=q.adgroups,t=q.campaign,u=q.destinationDetails,v=q.imageList,w=q.objective;return c('React').createElement(c('AdsCFCreativeImagePanelContainer.react'),{accountID:r,adgroups:s,campaign:t,destinationDetails:u,imageList:v,objective:w});};j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;o.prototype.render=function(){switch(this.props.uiFormat){case c('AdsUIMediaFormat').SINGLE_IMAGE:return this.$AdsCFXMediaSection1();case c('AdsUIMediaFormat').SINGLE_VIDEO:case c('AdsUIMediaFormat').SLIDESHOW:return this.$AdsCFXMediaSection2();case c('AdsUIMediaFormat').COLLECTIONS:return this.$AdsCFXMediaSection3();case c('AdsUIMediaFormat').CANVAS:return this.$AdsCFXMediaSection4();default:return null;}};o.prototype.$AdsCFXMediaSection5=function(){this.props.adgroups.length>0||i(0);return this.props.adgroups[0];};o.prototype.$AdsCFXMediaSection2=function(){return c('React').createElement(c('AdsCFSection.react'),{noPadding:true},c('React').createElement(c('AdsCFErrorSectionContainer.react'),{className:"_1551",validatedSectionType:'MEDIA'}),c('React').createElement(m,{adgroupSpec:this.$AdsCFXMediaSection5()}));};o.prototype.$AdsCFXMediaSection1=function(){return c('React').createElement(c('AdsCFSection.react'),{noPadding:true},c('React').createElement(c('AdsCFErrorSectionContainer.react'),{className:"_1551",validatedSectionType:'MEDIA'}),c('React').createElement(n,this.props));};o.prototype.$AdsCFXMediaSection4=function(){return c('React').createElement(c('AdsCFSection.react'),{noPadding:true},c('React').createElement(c('AdsCFErrorSectionContainer.react'),{className:"_1551",validatedSectionType:'MEDIA'}),c('React').createElement(c('AdsCFMultiFormatImageVideoSelectorContainer.react'),null));};o.prototype.$AdsCFXMediaSection3=function(){return c('React').createElement(c('AdsCFSection.react'),{noPadding:true},c('React').createElement(c('AdsCFErrorSectionContainer.react'),{className:"_1551",validatedSectionType:'MEDIA'}),c('React').createElement(c('AdsCFMultiFormatImageVideoSelectorContainer.react'),null));};function o(){j.apply(this,arguments);}o.propTypes={accountID:l.string.isRequired,adgroups:l.array.isRequired,campaign:l.instanceOf(c('AdsAPICampaignRecord')).isRequired,destinationDetails:l.object,imageList:l.arrayOf(l.instanceOf(c('AdsImageLegacy'))).isRequired,objective:l.string.isRequired,uiFormat:l.oneOf(Object.keys(c('AdsUIMediaFormat')))};f.exports=o;}),null);
__d('AdsCFXMediaSectionContainer.react',['invariant','AdsAdgroupSpecPathPluginResolver','AdsAPIAdgroupRecordUtils','AdsAccountStore','AdsCFActiveCampaignIDStore','AdsCFAdgroupCreativePluginResolver','AdsCFAdgroupStateUtils','AdsCFAdgroupStore','AdsCFApplicationStore','AdsCFCampaignStateUtils','AdsCFCampaignStore','AdsCFCampaignUtils','AdsCFEligibilityInfoStore','AdsCFPivotsSelectors','AdsCFXMediaSection.react','AdsFluxContainer','AdsImageInfoStore','AdsPredictionObjectStore','AdsQEStore','AdsReachFrequencyFormatsUtils','AdsReachFrequencyUtils','AdsUnifiedCreativeAPIFields','AdsUnifiedCreativeAPIFieldUtils','FluxStore','React','adsCFActiveCampaignGroupSelector','adsCFSelectedObjectiveSelector','adsCFUIMediaFormatSelector'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.getStores=function(){return [].concat(c('AdsCFPivotsSelectors').adgroupCreative.getStores(),c('adsCFActiveCampaignGroupSelector').getStores(),c('adsCFSelectedObjectiveSelector').getStores(),c('adsCFUIMediaFormatSelector').getStores(),[c('AdsAccountStore'),c('AdsCFActiveCampaignIDStore'),c('AdsCFAdgroupStore'),c('AdsCFApplicationStore'),c('AdsCFCampaignStore'),c('AdsCFEligibilityInfoStore'),c('AdsImageInfoStore'),c('AdsPredictionObjectStore'),c('AdsQEStore')]);};k.calculateState=function(){var l=c('AdsCFCampaignStateUtils').getFirstSelectedRecord(c('AdsCFCampaignStore').getState(),c('AdsCFActiveCampaignIDStore').getState()),m=c('AdsCFCampaignStateUtils').getActiveAggregateCampaignID(c('AdsCFActiveCampaignIDStore').getState()),n=c('adsCFActiveCampaignGroupSelector')(),o=c('AdsReachFrequencyUtils').getPredictionID(n,l),p=true;if(o){var q=c('AdsPredictionObjectStore').get(o);if(q.hasValue()){var r=q.getValueEnforcing(),s=c('AdsReachFrequencyFormatsUtils').fromPrediction(r),t=s.videoFlag;p=t;}}var u=c('adsCFSelectedObjectiveSelector')(),v=c('AdsCFAdgroupStore').getState(),w=c('AdsAccountStore').getSelectedAccountIDX(),x=c('AdsCFAdgroupStateUtils').getAdgroupRecords(v),y=c('AdsCFEligibilityInfoStore').get(),z=c('AdsCFAdgroupCreativePluginResolver').resolve(c('AdsCFPivotsSelectors').adgroupCreative()),aa=c('AdsAccountStore').getSelectedAccount(),ba=c('AdsAdgroupSpecPathPluginResolver').resolve(c('AdsCFPivotsSelectors').adgroupSpecPath());return {account:aa,accountID:c('AdsAccountStore').getSelectedAccountIDX(),adgroupCreativePlugin:z,adgroups:x,campaign:l,campaignID:m,eligibilityInfo:y,imageList:this.$AdsCFXMediaSectionContainer1(x,w),isCreatingNewCampaign:c('AdsCFCampaignUtils').isNew(l),isCreatingSimilar:c('AdsCFApplicationStore').isCreatingSimilar(),isVideoEnabled:p,objective:u,uiFormat:c('adsCFUIMediaFormatSelector')(),videoThumbnailImage:this.$AdsCFXMediaSectionContainer2(x,u,ba)};};k.$AdsCFXMediaSectionContainer2=function(l,m,n){l.length>0||h(0);var o=void 0;if(c('AdsUnifiedCreativeAPIFieldUtils').isFieldSupported(l[0],n,c('AdsUnifiedCreativeAPIFields').videoThumbnailURL))o=c('AdsAPIAdgroupRecordUtils').getVideoThumbnailURL(l[0],n)||undefined;return o;};k.$AdsCFXMediaSectionContainer1=function(l,m){var n=[];l.forEach(function(o){var p=c('AdsImageInfoStore').getFullSizeLegacyImageForSingleImageAd_DEPRECATED(o,m);if(p.hasValue())n.push(p.getValueEnforcing());});return n;};k.prototype.render=function(){return c('React').createElement(c('AdsCFXMediaSection.react'),{accountID:this.state.accountID,adgroups:this.state.adgroups,campaign:this.state.campaign,imageList:this.state.imageList,objective:this.state.objective,uiFormat:this.state.uiFormat||undefined});};function k(){i.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(k);}),null);